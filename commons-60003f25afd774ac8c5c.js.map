{"version":3,"sources":["webpack:///./node_modules/algoliasearch-helper/src/requestBuilder.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./src/components/Search/useClickOutside.js","webpack:///./node_modules/react-instantsearch-core/dist/es/connectors/connectSearchBox.js","webpack:///./src/templates/components/ExternalLinkSvg/index.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/algoliasearch-helper/src/version.js","webpack:///./src/components/Flex/Flex.js","webpack:///./src/components/Flex/index.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./src/components/LayoutHeader/Header.js","webpack:///./node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack:///./src/components/Search/SearchBox.js","webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./src/utils/patchDOMForGoogleTranslate.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack:///./src/components/Search/SearchResult.js","webpack:///./node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/utils.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/algoliasearch-helper/src/functions/merge.js","webpack:///./node_modules/algoliasearch-helper/src/functions/find.js","webpack:///./src/components/TitleAndMetaTags/TitleAndMetaTags.js","webpack:///./src/components/TitleAndMetaTags/index.js","webpack:///./node_modules/shallowequal/index.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack:///./src/components/LayoutFooter/FooterLink.js","webpack:///./src/components/Search/SearchResultTitles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack:///./src/components/Search/Search.js","webpack:///./node_modules/algoliasearch-helper/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createConnector.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/highlight.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createInstantSearchManager.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/version.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createWidgetsManager.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createStore.js","webpack:///./node_modules/react-instantsearch-core/dist/es/widgets/InstantSearch.js","webpack:///./src/components/LayoutFooter/SectionLinks.js","webpack:///./node_modules/algoliasearch-helper/src/functions/inherits.js","webpack:///./node_modules/react-helmet/lib/Helmet.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack:///./content/languages.yml","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/algoliasearch-helper/src/functions/intersection.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/indexUtils.js","webpack:///./src/components/LayoutFooter/Footer.js","webpack:///./node_modules/react-instantsearch-core/dist/es/connectors/connectHits.js","webpack:///./src/components/LayoutFooter/FooterNav.js","webpack:///./src/components/LayoutFooter/index.js","webpack:///./src/components/LayoutHeader/index.js","webpack:///./node_modules/algoliasearch-helper/src/functions/compact.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./src/components/Layout/index.js","webpack:///./src/components/Container/Container.js","webpack:///./src/site-constants.js","webpack:///./src/components/Container/index.js","webpack:///./node_modules/react-fast-compare/index.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/node-libs-browser/node_modules/events/events.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./src/images/search.png","webpack:///./node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/react-helmet/lib/HelmetConstants.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack:///./node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack:///./node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/algoliasearch-helper/src/functions/omit.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/context.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack:///./node_modules/core-js/modules/es.symbol.async-iterator.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/react-helmet/lib/HelmetUtils.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./content/footerNav.yml","webpack:///./node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack:///./src/components/Layout/Layout.js","webpack:///./node_modules/core-js/modules/es.string.small.js","webpack:///./src/components/LayoutFooter/ExternalFooterLink.js"],"names":["merge","requestBuilder","_getQueries","index","state","queries","push","indexName","params","_getHitsSearchParams","getRefinedDisjunctiveFacets","forEach","refinedFacet","_getDisjunctiveFacetSearchParams","getRefinedHierarchicalFacets","hierarchicalFacet","getHierarchicalFacetByName","currentRefinement","getHierarchicalRefinement","separator","_getHierarchicalFacetSeparator","length","split","facets","concat","disjunctiveFacets","_getHitsHierarchicalFacetsAttributes","facetFilters","_getFacetFilters","numericFilters","_getNumericFilters","additionalParams","tagFilters","_getTagFilters","getQueryParams","facet","hierarchicalRootLevel","hitsPerPage","page","attributesToRetrieve","attributesToHighlight","attributesToSnippet","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","facetName","Object","keys","numericRefinements","attribute","operators","operator","values","value","Array","isArray","vs","map","v","tagRefinements","join","facetsRefinements","facetValue","facetsExcludes","disjunctiveFacetsRefinements","facetValues","orFilters","hierarchicalFacetsRefinements","undefined","attributeToRefine","attributesIndex","rootPath","_getHierarchicalRootPath","indexOf","slice","lastIndexOf","attributes","hierarchicalFacets","reduce","allAttributes","hierarchicalRefinement","name","level","newAttributes","rootLevel","attributeIndex","parentLevel","getSearchForFacetQuery","query","maxFacetHits","stateForSearchForFacetValues","isDisjunctiveFacet","clearRefinements","searchForFacetSearchParameters","facetQuery","module","exports","_classCallCheck","instance","Constructor","TypeError","events","ref","onClickOutside","onClick","event","element","target","current","contains","useEffect","document","addEventListener","removeEventListener","getCurrentRefinement","props","searchState","context","_refine","nextRefinement","nextValue","displayName","propTypes","defaultRefinement","string","getProvidedProps","searchResults","ais","contextValue","multiIndexContext","indexContextValue","isSearchStalled","refine","cleanUp","_cleanUp","getSearchParameters","searchParameters","setQuery","getMetadata","id","items","label","nextState","ExternalLinkSvg","cssProps","x","y","viewBox","width","height","css","fill","d","points","wellKnownSymbol","f","Flex","basis","children","direction","grow","halign","shrink","type","valign","rest","createElement","display","flexDirection","flexGrow","flexShrink","flexBasis","justifyContent","alignItems","classof","arg","Header","location","backgroundColor","colors","darker","color","white","position","zIndex","top","left","media","between","lessThan","marginRight","brand","outline","greaterThan","flex","to","paddingTop","xmlns","fillRule","indices","padding","marginLeft","whiteSpace","fonts","small","lighter","borderRadius","href","rel","verticalAlign","subtle","SearchParameters","SearchResults","DerivedHelper","inherits","objectHasKeys","version","AlgoliaSearchHelper","client","options","addAlgoliaAgent","this","setClient","opts","make","lastResults","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","Error","_change","setPage","isPageReset","getCurrentPage","EventEmitter","prototype","search","_search","onlyWithDerivedHelpers","searchOnlyWithDerivedHelpers","getQuery","searchOnce","cb","tempState","setQueryParameters","self","emit","then","content","results","_originalResponse","e","catch","err","searchForFacetValues","userState","clientHasSFFV","initIndex","isDisjunctive","algoliaQuery","facetHits","isRefined","isDisjunctiveFacetRefined","isFacetRefined","q","resetPage","clearTags","addDisjunctiveFacetRefinement","addDisjunctiveRefine","apply","arguments","addHierarchicalFacetRefinement","addNumericRefinement","addFacetRefinement","addRefine","addFacetExclusion","addExcludeRefinement","addExclude","addTag","tag","addTagRefinement","removeNumericRefinement","removeDisjunctiveFacetRefinement","removeDisjunctiveRefine","removeHierarchicalFacetRefinement","removeFacetRefinement","removeRefine","removeFacetExclusion","removeExcludeRefinement","removeExclude","removeTag","removeTagRefinement","toggleFacetExclusion","toggleExcludeFacetRefinement","toggleExclude","toggleRefinement","toggleFacetRefinement","toggleRefine","toggleTag","toggleTagRefinement","nextPage","previousPage","setIndex","setQueryParameter","parameter","setState","newState","overrideStateWithoutTriggeringChangeEvent","hasRefinements","getNumericRefinements","isConjunctiveFacet","isHierarchicalFacet","isHierarchicalFacetRefined","isExcluded","isExcludeRefined","isDisjunctiveRefined","hasTag","isTagRefined","hasTagRefinements","getIndex","getPage","getTags","getRefinements","refinements","getConjunctiveRefinements","r","getExcludeRefinements","getDisjunctiveRefinements","getNumericRefinement","getHierarchicalFacetBreadcrumb","states","mainQueries","queriesCount","helper","derivedQueries","derivedHelper","derivedState","getModifiedState","derivedStateQueries","queryId","_dispatchAlgoliaResponse","bind","_dispatchAlgoliaError","error","s","specificResults","splice","formattedResponse","containsRefinement","_hasDisjunctiveRefinements","disjunctiveRefinements","clearCache","newClient","getClient","derive","fn","detachDerivedHelper","pos","hasPendingRequests","connectSearchBox","onFocus","fieldValue","setFieldValue","inputRef","useRef","className","transition","onBlur","setTimeout","placeholder","aria-label","onChange","focus","cursor","src","_interopDefault","ex","React","React__default","shallowEqual","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","canUseDOM","window","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","WrappedComponent","mountedInstances","emitChange","SideEffect","_Component","subClass","superClass","create","constructor","__proto__","peek","rewind","recordedState","_proto","shouldComponentUpdate","nextProps","componentWillMount","componentDidUpdate","componentWillUnmount","render","Component","getDisplayName","patchDOMForGoogleTranslate","Node","originalRemoveChild","removeChild","child","parentNode","console","originalInsertBefore","insertBefore","newNode","referenceNode","toIndexedObject","nativeGetOwnPropertyNames","toString","windowNames","getOwnPropertyNames","it","call","getWindowNames","find","sortBy","defaults","defaultInstructions","sort","out","sortInstruction","matchingDefault","defaultInstruction","ignoreStrings","HitsInIndex","hits","useState","setSelected","downPress","useKeyPress","upPress","enterPress","setCursor","hovered","prevState","hit","i","onLink","url","preventDefault","getLink","title","slug","replace","toLowerCase","headings","filter","some","includes","marginBottom","item","style","gridTemplateColumns","gridGap","margin","fontSize","paddingLeft","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","connectHits","textAlign","marginTop","t","getOwnPropertySymbols","n","getOwnPropertyDescriptor","o","getOwnPropertyDescriptors","defineProperties","Symbol","iterator","a","u","next","done","return","from","localStorage","JSON","parse","getItem","get","miss","Promise","resolve","stringify","all","set","setItem","delete","clear","removeItem","caches","shift","serializable","c","Math","floor","random","l","encodeURIComponent","h","data","entries","timeout","headers","queryParameters","cacheable","m","Read","Write","Any","status","lastUpdate","Date","now","b","protocol","accept","P","j","method","userAgent","pop","message","transporterStackTrace","A","w","path","connectTimeout","timeouts","connect","responseTimeout","request","response","host","triesLeft","p","onSucess","onRetry","isTimedOut","logger","info","hostsCache","onFail","requester","send","getTimeout","statelessHosts","reverse","S","add","segment","T","charAt","substr","C","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","methods","N","k","requests","J","propertyIsEnumerable","I","E","W","XMLHttpRequest","open","setRequestHeader","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","multipleQueries","multipleSearchForFacetValues","objA","objB","keysA","keysB","hasOwn","hasOwnProperty","resolved","defer","removeEmptyKey","object","isPlainObject","addAbsolutePositions","__position","addQueryID","queryID","__queryID","omit","source","excluded","sourceKeys","_key","getPropertyByPath","_objectWithoutProperties","sourceSymbolKeys","isObjectOrArrayOrFunction","_merge","sourceVal","targetVal","array","comparator","completeLanguages","languages","language","defaultPage","canonicalUrl","urlRoot","TitleAndMetaTags","ogDescription","property","hreflang","code","alternatePages","compare","compareContext","ret","bHasOwnProperty","idx","valueA","valueB","defaultsPure","lib","addRefinement","refinementList","valueAsString","facetRefinement","mod","removeRefinement","clearRefinement","refinementType","hasChanged","newRefinementList","memo","facetList","refinementValue","containsRefinements","refinementValueAsString","FooterLink","lineHeight","tabPress","activeLinkUrl","setActiveLinkUrl","mouseIn","setMouseIn","quantity","onMouseEnter","onMouseLeave","description","newDescription","sym","endsWith","getShortDescription","AllHits","SearchResult","show","right","maxHeight","overflow","borderBottomRightRadius","borderBottomLeftRadius","boxShadow","Fragment","_assertThisInitialized","ReferenceError","redefine","anObject","fails","flags","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","String","rf","unsafe","_setPrototypeOf","setPrototypeOf","_inherits","mainHelper","main","detach","removeAllListeners","parameters","Search","rootRef","createRef","hasFocus","setFocus","searchClient","algoliasearch","process","useClickOutside","onSearchStateChange","algoliasearchHelper","_extends","assign","connectorDesc","Composed","Connector","isWidget","transitionState","_this","providedProps","_ref","_len","args","onInternalStateUpdate","store","getState","widgets","_ref2","_len2","_key2","createHrefForState","_ref3","_len3","_key3","onSearchForFacetValues","onSearchParameters","_this2","unsubscribe","subscribe","isUnmounting","unregisterWidget","widgetsManager","registerWidget","propsEqual","prevProps","update","_this$props$contextVa","resultsFacetValues","searching","searchingForFacetValues","metadata","nextWidgetsState","prevWidgetsState","_this$props","refineProps","createURL","searchForFacetValuesProps","searchForItems","defaultProps","createConnectorWithoutContext","HIGHLIGHT_TAGS","highlightPreTag","highlightPostTag","addAlgoliaAgents","widget","isTargetedIndexEqualIndex","indexId","targetedIndex","isIndexWidget","Boolean","isIndexWidgetEqualIndex","sortIndexWidgetsFirst","firstWidget","secondWidget","isFirstWidgetIndex","isSecondWidgetIndex","serializeQueryParameters","format","encode","createInstantSearchManager","_ref$initialState","initialState","resultsState","stalledSearchDelay","on","stalledSearchTimer","_store$getState","partialState","handleSearchSuccess","handleSearchError","skip","initialSearchParameters","onWidgetsUpdate","scheduled","scheduleUpdate","getWidgets","createWidgetsManager","_cacheHydrated","_useCache","baseMethod","methodArgs","requestsWithSerializedParams","acc","result","rawResults","cache","hydrateSearchClientWithMultiIndexRequest","hydrateSearchClientWithSingleIndexRequest","hydrateSearchClient","listeners","listener","createStore","_internalIndexId","hydrateResultsState","sharedParameters","res","mainParameters","targetedIndexEqualMainIndex","subIndexEqualMainIndex","derivedIndices","targetedIndexNotEqualMainIndex","subIndexNotEqualMainIndex","derivedParameters","_getSearchParameters","isDerivedHelpersEmpty","getFacetByName","currentState","nextIsSearchStalled","_ref4","getWidgetsIds","meta","_ref5","_ref5$maxFacetHits","maxFacetHitsWithinRange","max","min","_objectSpread7","onExternalStateUpdate","nextSearchState","updateClient","updateIndex","newIndex","skipSearch","isControlled","InstantSearch","instantSearchManager","mainTargetedIndex","onWidgetsInternalStateUpdate","nextIsControlled","previousSearchState","prevIsControlled","refresh","getKnownKeys","_searchState","count","isRequired","shape","func","bool","oneOfType","node","number","SectionLinks","links","external","ctor","superCtor","__esModule","Helmet","_createClass","descriptor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","_reactSideEffect2","_reactFastCompare2","_HelmetUtils","_HelmetConstants","default","_possibleConstructorReturn","_class","_temp","HelmetSideEffects","handleClientStateChange","HelmetExport","_React$Component","HelmetWrapper","mapNestedChildrenToProps","nestedChildren","TAG_NAMES","SCRIPT","NOSCRIPT","innerHTML","STYLE","cssText","flattenArrayTypeChildren","_extends2","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_extends3","_extends4","newProps","TITLE","titleAttributes","BODY","bodyAttributes","HTML","htmlAttributes","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_extends5","warnOnInvalidChildren","mapChildrenToProps","Children","_child$props","childProps","convertReactPropstoHtmlAttributes","LINK","META","_props","base","arrayOf","defaultTitle","encodeSpecialCharacters","link","noscript","onChangeClientState","script","titleTemplate","mappedState","baseTag","linkTags","metaTags","noscriptTags","scriptTags","styleTags","renderStatic","intersection","valToNumber","RefinementList","isEqualNumericRefinement","every","el","newParameters","_parseNumbers","paramName","isKeyKnown","PARAMETERS","isValueDefined","numbers","parsedValue","parseFloat","isNaN","insideBoundingBox","geoRect","parsedValues","vPrime","toggleHierarchicalFacetRefinement","validate","patch","_clearNumericRefinements","newQuery","newPage","setFacets","setDisjunctiveFacets","setHitsPerPage","setTypoTolerance","typoTolerance","isNumericRefined","paramValue","op","val","newNumericRefinements","operatorList","outValues","addFacet","addDisjunctiveFacet","addHierarchicalFacet","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","isOperatorDefined","searchedValue","isAttributeValueDefined","currentValue","disjunctiveNumericRefinedFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","queryParams","nextWithNumbers","previousPlainObject","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","_getHierarchicalFacetSortBy","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","refinement","part","trim","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","arrayLike","step","O","argumentsLength","mapfn","mapping","iteratorMethod","arr1","arr2","_typeof","fixRegExpWellKnownSymbolLogic","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","regexp","rx","functionalReplace","global","fullUnicode","unicode","lastIndex","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","groups","replacerArgs","replacement","getSubstitution","str","tailPos","symbols","match","ch","capture","getIndexId","hasMultipleIndices","getResults","refineValue","namespace","_objectSpread4","refineMultiIndexWithNamespace","refineMultiIndex","refineSingleIndexWithNamespace","refineSingleIndex","getNamespaceAndAttributeName","parts","attributeName","getCurrentRefinementValue","defaultValue","_getNamespaceAndAttri","multiIndex","cleanUpValue","_getNamespaceAndAttri2","indexSearchState","cleanUpValueWithMultiIndex","cleanUpValueWithSingleIndex","Footer","layoutHasSidebar","paddingBottom","size","flexWrap","paddingRight","navFooter","privacy","order","fontFamily","fontWeight","letterSpacing","subtleOnDark","getFullYear","hitsWithPositions","FooterNav","isObject","SPECIES","originalArray","Layout","Container","maxWidth","babelURL","keyList","hasProp","hasElementType","Element","equal","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","$$typeof","warn","has","wrappedWellKnownSymbolModule","NAME","ReflectOwnKeys","Reflect","ReflectApply","receiver","Function","ownKeys","NumberIsNaN","Number","init","once","emitter","eventListener","errorListener","removeListener","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","that","_addListener","prepend","existing","warning","newListener","unshift","warned","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","arr","unwrapListeners","arrayClone","listenerCount","copy","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","handler","len","addListener","prependListener","prependOnceListener","list","originalListener","spliceOne","off","rawListeners","eventNames","_getPrototypeOf","toPrimitive","definePropertyModule","createPropertyDescriptor","propertyKey","ATTRIBUTE_NAMES","BASE","HEAD","REACT_TAG_MAP","VALID_TAG_NAMES","TAG_PROPERTIES","CHARSET","CSS_TEXT","HREF","HTTPEQUIV","INNER_HTML","ITEM_PROP","PROPERTY","REL","SRC","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","DEFAULT_TITLE","DEFER","ENCODE_SPECIAL_CHARACTERS","ON_CHANGE_CLIENT_STATE","TITLE_TEMPLATE","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","quot","p1","sources","reduceRight","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","prepareHierarchicalFacetSortBy","rootExhaustive","facetResult","exhaustive","generateTreeFn","hierarchicalTree","currentHierarchicalLevel","parent","subtree","picked","tuple","parentPath","onlyMatchingTree","orderBy","facetCount","generateHierarchicalTree","$","getBuiltIn","IS_PURE","DESCRIPTORS","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","propertyIsEnumerableModule","createNonEnumerableProperty","shared","sharedKey","hiddenKeys","uid","defineWellKnownSymbol","setToStringTag","InternalStateModule","$forEach","HIDDEN","TO_PRIMITIVE","setInternalState","getInternalState","getterFor","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","Attributes","ObjectPrototypeDescriptor","wrap","symbol","isSymbol","$defineProperty","$defineProperties","Properties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","setter","forced","sham","stat","keyFor","useSetter","useSimple","space","$replacer","valueOf","checkCorrectnessOfIteration","iterable","METHOD_NAME","test","FunctionPrototype","FunctionPrototypeToString","nameRE","_createContext","InstantSearchConsumer","Consumer","InstantSearchProvider","Provider","_createContext2","IndexConsumer","compact","findIndex","formatSort","getIndices","assignFacetStats","dest","facetStats","stats","mainSubResponse","_rawResults","processingTimeMS","sum","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","hierarchicalAttributeName","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","facetResults","dataFromMainRequest","defaultData","root","excludes","_state","recSort","sortFn","childNode","sortedChildren","getFacetStatsIfAvailable","getRefinement","resultsFacets","predicate","DEFAULT_SORT","getFacetValues","extractNormalizedFacetValues","hierarchicalFacetValues","vanillaSortFn","getFacetStats","facetDeclaration","rootFacet","intermediateFacet","newFacet","numericValue","IndexedObject","arraySpeciesCreate","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","specificCreate","boundFunction","requestAnimationFrame","_objectAssign2","clock","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","rafPolyfill","callback","currentTime","cafPolyfill","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","setAttribute","indexToSave","_i","removeAttribute","tags","headElement","head","querySelector","tagNodes","querySelectorAll","indexToDelete","newElement","styleSheet","appendChild","createTextNode","existingTag","isEqualNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","initAttributes","_ref$title","_objectSpread","_defineProperties","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","Template","pathname","minHeight","createHTML","proto","forcedStringHTMLMethod","ExternalFooterLink"],"mappings":"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","file":"commons-60003f25afd774ac8c5c.js","sourcesContent":["'use strict';\n\nvar merge = require('./functions/merge');\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = []; // One query for the hits\n\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    }); // One for each disjunctive facets\n\n    state.getRefinedDisjunctiveFacets().forEach(function (refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    }); // maybe more to get the root level of hierarchical facets when activated\n\n    state.getRefinedHierarchicalFacets().forEach(function (refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet); // if we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get the root values\n\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        queries.push({\n          indexName: index,\n          params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet, true)\n        });\n      }\n    });\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function _getHitsSearchParams(state) {\n    var facets = state.facets.concat(state.disjunctiveFacets).concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n\n    var numericFilters = requestBuilder._getNumericFilters(state);\n\n    var tagFilters = requestBuilder._getTagFilters(state);\n\n    var additionalParams = {\n      facets: facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function _getDisjunctiveFacetSearchParams(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n\n    var tagFilters = requestBuilder._getTagFilters(state);\n\n    var additionalParams = {\n      hitsPerPage: 1,\n      page: 0,\n      attributesToRetrieve: [],\n      attributesToHighlight: [],\n      attributesToSnippet: [],\n      tagFilters: tagFilters,\n      analytics: false,\n      clickAnalytics: false\n    };\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(state, hierarchicalFacet, hierarchicalRootLevel);\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function _getNumericFilters(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n    Object.keys(state.numericRefinements).forEach(function (attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function (operator) {\n        var values = operators[operator] || [];\n\n        if (facetName !== attribute) {\n          values.forEach(function (value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function (v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function _getTagFilters(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function _getFacetFilters(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function (facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function (facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function (facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function (facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function (facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n\n      var orFilters = [];\n      facetValues.forEach(function (facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n      facetFilters.push(orFilters);\n    });\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function (facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n\n      var attributeToRefine;\n      var attributesIndex; // we ask for parent facet values only when the `facet` is the current hierarchical facet\n\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || !rootPath && hierarchicalRootLevel === true || rootPath && rootPath.split(separator).length === facetValue.split(separator).length) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n    return facetFilters;\n  },\n  _getHitsHierarchicalFacetsAttributes: function _getHitsHierarchicalFacetsAttributes(state) {\n    var out = [];\n    return state.hierarchicalFacets.reduce( // ask for as much levels as there's hierarchical refinements\n    function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n      var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0]; // if no refinement, ask for root level\n\n      if (!hierarchicalRefinement) {\n        allAttributes.push(hierarchicalFacet.attributes[0]);\n        return allAttributes;\n      }\n\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      var level = hierarchicalRefinement.split(separator).length;\n      var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n      return allAttributes.concat(newAttributes);\n    }, out);\n  },\n  _getDisjunctiveHierarchicalFacetAttribute: function _getDisjunctiveHierarchicalFacetAttribute(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || ''; // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n  getSearchForFacetQuery: function getSearchForFacetQuery(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ? state.clearRefinements(facetName) : state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n\n    return merge({}, requestBuilder._getHitsSearchParams(stateForSearchForFacetValues), searchForFacetSearchParameters);\n  }\n};\nmodule.exports = requestBuilder;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import { useEffect } from \"react\"\n\nconst events = [`mousedown`, `touchstart`]\n\nexport default (ref, onClickOutside) => {\n  const isOutside = element => !ref.current || !ref.current.contains(element)\n\n\n  const onClick = event => {\n    if (isOutside(event.target)) {\n      onClickOutside()\n    }\n  }\n\n  useEffect(() => {\n    for (const event of events) {\n      document.addEventListener(event, onClick)\n    }\n\n    return () => {\n      for (const event of events) document.removeEventListener(event, onClick)\n    }\n  })\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport PropTypes from 'prop-types';\nimport createConnector from '../core/createConnector';\nimport { cleanUpValue, refineValue, getCurrentRefinementValue, getIndexId } from '../core/indexUtils';\n\nfunction getId() {\n  return 'query';\n}\n\nfunction getCurrentRefinement(props, searchState, context) {\n  var id = getId(props);\n  var currentRefinement = getCurrentRefinementValue(props, searchState, context, id, '');\n\n  if (currentRefinement) {\n    return currentRefinement;\n  }\n\n  return '';\n}\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId();\n\n  var nextValue = _defineProperty({}, id, nextRefinement);\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage);\n}\n\nfunction _cleanUp(props, searchState, context) {\n  return cleanUpValue(searchState, context, getId());\n}\n/**\n * connectSearchBox connector provides the logic to build a widget that will\n * let the user search for a query\n * @name connectSearchBox\n * @kind connector\n * @propType {string} [defaultRefinement] - Provide a default value for the query\n * @providedPropType {function} refine - a function to change the current query\n * @providedPropType {string} currentRefinement - the current query used\n * @providedPropType {boolean} isSearchStalled - a flag that indicates if InstantSearch has detected that searches are stalled\n */\n\n\nexport default createConnector({\n  displayName: 'AlgoliaSearchBox',\n  propTypes: {\n    defaultRefinement: PropTypes.string\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    return {\n      currentRefinement: getCurrentRefinement(props, searchState, {\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      isSearchStalled: searchResults.isSearchStalled\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  cleanUp: function cleanUp(props, searchState) {\n    return _cleanUp(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  getSearchParameters: function getSearchParameters(searchParameters, props, searchState) {\n    return searchParameters.setQuery(getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    }));\n  },\n  getMetadata: function getMetadata(props, searchState) {\n    var id = getId(props);\n    var currentRefinement = getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    return {\n      id: id,\n      index: getIndexId({\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      items: currentRefinement === null ? [] : [{\n        label: \"\".concat(id, \": \").concat(currentRefinement),\n        value: function value(nextState) {\n          return _refine(props, nextState, '', {\n            ais: props.contextValue,\n            multiIndexContext: props.indexContextValue\n          });\n        },\n        currentRefinement: currentRefinement\n      }]\n    };\n  }\n});","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport React from 'react';\n\nconst ExternalLinkSvg = ({cssProps = {}}: {cssProps: Object}) => (\n  <svg\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 100 100\"\n    width={15}\n    height={15}\n    css={cssProps}>\n    <path\n      fill=\"currentColor\"\n      d={`\n      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,\n      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z\n    `}\n    />\n    <polygon\n      fill=\"currentColor\"\n      points={`\n      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,\n      14.9 62.8,22.9 71.5,22.9\n      `}\n    />\n  </svg>\n);\n\nexport default ExternalLinkSvg;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\n\nmodule.exports = '3.2.2';","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport {createElement} from 'glamor/react';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  basis: string,\n  children: Node,\n  direction: string,\n  grow: number,\n  halign: string,\n  shrink: number,\n  type: string,\n  valign: string,\n  rest: Array<any>,\n};\n\n/**\n * Convenience component for declaring a flexbox layout.\n */\nconst Flex = ({\n  basis = 'auto',\n  children,\n  direction = 'row',\n  grow = 0,\n  halign = 'flex-start',\n  shrink = 1,\n  type = 'div',\n  valign = 'flex-start',\n  ...rest\n}: Props) =>\n  createElement(\n    type,\n    {\n      css: {\n        display: 'flex',\n        flexDirection: direction,\n        flexGrow: grow,\n        flexShrink: shrink,\n        flexBasis: basis,\n        justifyContent: direction === 'row' ? halign : valign,\n        alignItems: direction === 'row' ? valign : halign,\n      },\n      ...rest,\n    },\n    children,\n  );\n\nexport default Flex;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Flex from './Flex';\n\nexport default Flex;\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport Container from 'components/Container';\n// import HeaderLink from './HeaderLink';\nimport {Link} from 'gatsby';\nimport React from 'react';\nimport {colors, fonts, media} from 'theme';\n// import {version} from 'site-constants';\nimport ExternalLinkSvg from 'templates/components/ExternalLinkSvg';\n// import DocSearch from './DocSearch';\nimport Search from './../Search/Search';\n\n// $FlowFixMe\n// import navHeader from '../../../content/headerNav.yml';\n\n// import logoSvg from 'icons/logo.png';\n\nconst Header = ({location}: {location: Location}) => (\n  <header\n    css={{\n      backgroundColor: colors.darker,\n      color: colors.white,\n      position: 'fixed',\n      zIndex: 1,\n      width: '100%',\n      top: 0,\n      left: 0,\n      '@media print': {\n        display: 'none',\n      },\n    }}>\n    <Container>\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          height: 60,\n          [media.between('small', 'large')]: {\n            height: 50,\n          },\n          [media.lessThan('small')]: {\n            height: 40,\n          },\n        }}>\n        <Link\n          css={{\n            display: 'flex',\n            marginRight: 10,\n            height: '100%',\n            alignItems: 'center',\n            color: colors.brand,\n\n            ':focus': {\n              outline: 0,\n              color: colors.white,\n            },\n\n            [media.greaterThan('small')]: {\n              width: 'calc(100% / 6)',\n            },\n            [media.lessThan('small')]: {\n              flex: '0 0 auto',\n            },\n          }}\n          to=\"/\">\n          {/* <img src={logoSvg} alt=\"\" width=\"150\" /> */}\n          <div css={{paddingTop: 20}}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"170\" height=\"100%\" viewBox=\"0 0 206 50\">\n                  <g fill=\"none\" fillRule=\"evenodd\">\n                  <path fill={colors.brand}\n                  d=\"M149.62 29.165c-.043-.098-.074-.2-.13-.288-1.283-1.975-2.568-3.945-3.851-5.918-.027-.04-.047-.085-.078-.144l4.036-11.133c1.506 2.667 2.978 5.272 4.494 7.959l6.383-17.502h6.185l5.889 17.366c.068.013.08.02.091.015.012-.002.023-.013.03-.023.034-.064.071-.128.102-.192l8.167-17.121c.004-.01.016-.02.039-.045h7.994c-.04.109-.066.208-.11.3-1.247 2.766-2.497 5.532-3.743 8.298-1.348 2.986-2.689 5.976-4.034 8.964-1.367 3.03-2.737 6.062-4.102 9.094-.054.119-.086.247-.126.37h-8.035c-.027-.138-.039-.282-.085-.415-.9-2.581-1.805-5.163-2.708-7.742-.67-1.911-1.338-3.822-2.005-5.733l-.606-1.73a.81.81 0 0 0-.22.34c-.356.974-.708 1.95-1.065 2.923-1.122 3.056-2.244 6.114-3.37 9.17-.392 1.064-.792 2.125-1.189 3.187h-7.953zM137.8 2.127c1.573.008 3.115.24 4.58.782 1.694.628 3.031 1.635 4.048 3.048-1.617 4.463-3.24 8.944-4.866 13.427-.447.171-.911.222-1.368.296-.898.146-1.808.169-2.718.169h-4.934c-.01.175-.023.315-.023.453v7.716c0 .38-.008.764-.01 1.147h-7.632c.004-.144.01-.286.01-.43l.001-13.08V2.13c.094-.006.156-.013.22-.013 4.23 0 8.463-.01 12.693.01zm-4.988 5.214c-.087 0-.175.02-.274.031v7.251c.127.014.204.03.282.03.885 0 1.77.019 2.652-.006.665-.022 1.331-.047 1.988-.185 1.243-.264 2.12-.896 2.518-1.99.373-1.029.387-2.069-.054-3.09-.348-.797-.963-1.368-1.86-1.683-.72-.249-1.476-.338-2.238-.352-1.004-.017-2.009-.006-3.014-.006zM196.78 29.165c-.026-.103-.035-.21-.076-.31-.591-1.48-1.188-2.964-1.785-4.445-.01-.022-.029-.04-.076-.098-.122-.006-.278-.017-.433-.017-3.28-.002-6.56-.002-9.839-.002-.157 0-.315-.006-.53-.01.777-1.765 1.533-3.482 2.301-5.22h6.694l-3.175-7.96 3.956-8.952.43 1.01c1.928 4.579 3.858 9.155 5.787 13.733 1.66 3.94 3.316 7.883 4.977 11.823.054.13.134.251.204.376-.014.025-.026.068-.041.07-.107.003-.214.002-.32.002h-8.074z\">\n                  </path>\n                  <path fill=\"#fff\"\n                  d=\"M3.088 3.463c1.915-1.363 4.35-2.044 7.308-2.044 3.522 0 6.543.72 9.063 2.16v6.555c-2.316-1.747-5.142-2.597-8.484-2.544-2.288.025-3.433.604-3.433 1.734 0 .54.348 1.022 1.042 1.446.694.426 1.561.785 2.603 1.079 1.04.297 2.166.694 3.373 1.197 1.209.5 2.335 1.06 3.375 1.676 1.042.618 1.909 1.497 2.603 2.642.694 1.145 1.042 2.461 1.042 3.954 0 5.5-3.6 8.25-10.797 8.25-3.935 0-7.393-.822-10.374-2.466v-6.75c2.955 2.031 6.233 3.046 9.833 3.046 1.439 0 2.467-.134 3.085-.404.617-.27.926-.739.926-1.408 0-.694-.482-1.298-1.447-1.811-.964-.516-2.134-.998-3.509-1.447a41.922 41.922 0 0 1-4.127-1.6c-1.374-.618-2.544-1.555-3.509-2.815-.964-1.26-1.446-2.776-1.446-4.55 0-2.57.958-4.538 2.873-5.9M26.757 12.448c2.096-1.722 4.61-2.584 7.539-2.584 2.031 0 3.933.424 5.707 1.274v5.59a9.249 9.249 0 0 0-4.704-1.273c-1.44 0-2.622.348-3.548 1.042-.925.694-1.39 1.773-1.39 3.239 0 1.388.465 2.442 1.39 3.16.926.722 2.069 1.082 3.431 1.082 1.904 0 3.573-.412 5.014-1.235v5.591c-1.98.825-4.1 1.235-6.363 1.235-2.828 0-5.239-.803-7.231-2.41-1.991-1.607-2.988-3.953-2.988-7.038 0-3.392 1.047-5.95 3.143-7.673M49.715 24.614c.41.348.95.521 1.62.521 1.156 0 2.173-.32 3.046-.964v-2.508c-.695-.23-1.478-.346-2.353-.346-1.953 0-2.93.669-2.93 2.004 0 .515.205.945.617 1.293m12.494.25c.257 0 .502-.038.733-.116v4.05c-.978.386-2.084.579-3.317.579-2.056 0-3.522-.68-4.397-2.045-1.901 1.493-4.05 2.237-6.438 2.237-1.826 0-3.356-.513-4.59-1.543-1.235-1.027-1.85-2.415-1.85-4.164 0-1.106.244-2.076.732-2.91.488-.836 1.137-1.474 1.948-1.91a10.167 10.167 0 0 1 2.545-.964c.886-.206 1.817-.309 2.795-.309 1.388 0 2.726.142 4.01.424v-.655c0-.694-.328-1.254-.983-1.678-.655-.424-1.614-.635-2.871-.635-1.954 0-4.114.476-6.48 1.426v-5.515c2.52-.822 4.922-1.232 7.21-1.232 3.163 0 5.566.655 7.213 1.965 1.644 1.312 2.467 3.534 2.467 6.672v5.167c0 .772.425 1.157 1.273 1.157M76.97 9.903c2.416 0 4.255.713 5.515 2.14 1.26 1.425 1.89 3.247 1.89 5.457v11.491h-6.556V18.387c0-.951-.258-1.672-.771-2.16-.516-.488-1.196-.733-2.046-.733-1.26 0-2.313.54-3.16 1.62V28.99h-6.556v-18.51h5.784v2.12c1.672-1.798 3.637-2.698 5.9-2.698M100.176 15.976c-.668-.449-1.427-.675-2.274-.675-1.287 0-2.269.438-2.951 1.31-.68.876-1.02 1.916-1.02 3.125s.34 2.249 1.02 3.124c.682.873 1.664 1.31 2.95 1.31.848 0 1.607-.224 2.275-.675.669-.449 1.157-.997 1.466-1.638v-4.242c-.309-.642-.797-1.19-1.466-1.639zm8.021-13.98v26.995h-5.783v-2.508c-.515.875-1.307 1.608-2.372 2.199-1.067.591-2.372.886-3.915.886-1.491 0-2.827-.281-4.01-.847-1.182-.566-2.12-1.324-2.815-2.275-.694-.952-1.221-2-1.58-3.143a11.82 11.82 0 0 1-.541-3.567c0-1.235.18-2.424.54-3.567.36-1.144.887-2.191 1.58-3.144.697-.95 1.634-1.709 2.815-2.274 1.184-.566 2.52-.848 4.01-.848 2.342 0 4.179.694 5.516 2.082V1.997h6.555zM112.161 28.99h6.555V10.48h-6.555v18.51zm5.957-22.038c-.706.605-1.6.908-2.68.908s-1.972-.303-2.68-.908c-.708-.604-1.06-1.51-1.06-2.717 0-1.184.36-2.077 1.08-2.681.719-.605 1.607-.906 2.66-.906 1.08 0 1.974.301 2.68.906.707.604 1.061 1.497 1.061 2.68 0 1.208-.354 2.114-1.061 2.718z\">\n                </path>\n                </g>\n            </svg>\n          </div>\n        </Link>\n\n        {/* <nav\n          css={{\n            flex: '1',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'stretch',\n            overflowX: 'auto',\n            overflowY: 'hidden',\n            WebkitOverflowScrolling: 'touch',\n            height: '100%',\n\n            // Hide horizontal scrollbar\n            scrollbarWidth: 'none',\n            msOverflowStyle: 'none',\n            '::-webkit-scrollbar': {\n              display: 'none',\n            },\n\n            [media.size('xsmall')]: {\n              flexGrow: '1',\n              width: 'auto',\n            },\n            [media.greaterThan('xlarge')]: {\n              width: null,\n            },\n            [media.lessThan('small')]: {\n              maskImage:\n                'linear-gradient(to right, transparent, black 20px, black 90%, transparent)',\n            },\n          }}>\n          {navHeader.items.map(link => (\n            <HeaderLink\n              key={link.title}\n              isActive={location.pathname.includes(link.activeSelector)}\n              title={link.title}\n              to={link.to}\n            />\n          ))}\n        </nav> */}\n\n        \n\n        <div\n          css={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            width: 'auto',\n\n            [media.lessThan('medium')]: {\n            width: 'auto',\n            },\n            [media.greaterThan('large')]: {\n            width: 'calc(100% / 4)',\n            },\n          }}>\n            {/* <DocSearch /> */}\n            <Search indices={[{name: 'Pages'}]} />\n\n          {/* <Link\n            css={{\n              padding: '5px 10px',\n              whiteSpace: 'nowrap',\n              ...fonts.small,\n\n              ':hover': {\n                color: colors.brand,\n              },\n\n              ':focus': {\n                outline: 0,\n                backgroundColor: colors.lighter,\n                borderRadius: 15,\n              },\n\n              [media.lessThan('medium')]: {\n                display: 'none',\n              },\n            }}\n            to=\"/versions\">\n            v{version}\n          </Link> */}\n\n          <a\n            css={{ \n              padding: '5px 10px',\n              marginLeft: 10,\n              whiteSpace: 'nowrap',\n              ...fonts.small,\n\n              ':hover': {\n                color: colors.brand,\n              },\n\n              ':focus': {\n                outline: 0,\n                backgroundColor: colors.lighter,\n                borderRadius: 15,\n              },\n\n              // [media.lessThan('large')]: {\n              //   display: 'none',\n              // },\n            }}\n            href=\"https://github.com/scandipwa/docs.scandipwa.com/\"\n            target=\"_blank\"\n            rel=\"noopener\">\n            GitHub\n            <ExternalLinkSvg\n              cssProps={{\n                marginLeft: 5,\n                verticalAlign: -2,\n                color: colors.subtle,\n              }}\n            />\n          </a>\n        </div>\n      </div>\n    </Container>\n  </header>\n);\n\nexport default Header;\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\n\nvar SearchResults = require('./SearchResults');\n\nvar DerivedHelper = require('./DerivedHelper');\n\nvar requestBuilder = require('./requestBuilder');\n\nvar events = require('events');\n\nvar inherits = require('./functions/inherits');\n\nvar objectHasKeys = require('./functions/objectHasKeys');\n\nvar version = require('./version');\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\n\n\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, events.EventEmitter);\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\n\nAlgoliaSearchHelper.prototype.search = function () {\n  this._search({\n    onlyWithDerivedHelpers: false\n  });\n\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function () {\n  this._search({\n    onlyWithDerivedHelpers: true\n  });\n\n  return this;\n};\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\n\n\nAlgoliaSearchHelper.prototype.getQuery = function () {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\n\n\nAlgoliaSearchHelper.prototype.searchOnce = function (options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n\n  var self = this;\n  this._currentNbQueries++;\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client.search(queries).then(function (content) {\n      self._currentNbQueries--;\n\n      if (self._currentNbQueries === 0) {\n        self.emit('searchQueueEmpty');\n      }\n\n      cb(null, new SearchResults(tempState, content.results), tempState);\n    }).catch(function (err) {\n      self._currentNbQueries--;\n\n      if (self._currentNbQueries === 0) {\n        self.emit('searchQueueEmpty');\n      }\n\n      cb(err, null, tempState);\n    });\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function (content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function (e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\n\n\nAlgoliaSearchHelper.prototype.searchForFacetValues = function (facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n\n  if (!clientHasSFFV && typeof this.client.initIndex !== 'function') {\n    throw new Error('search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues');\n  }\n\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n  this._currentNbQueries++;\n  var self = this;\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n  var searchForFacetValuesPromise = clientHasSFFV ? this.client.searchForFacetValues([{\n    indexName: state.index,\n    params: algoliaQuery\n  }]) : this.client.initIndex(state.index).searchForFacetValues(algoliaQuery);\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    content = Array.isArray(content) ? content[0] : content;\n    content.facetHits.forEach(function (f) {\n      f.isRefined = isDisjunctive ? state.isDisjunctiveFacetRefined(facet, f.value) : state.isFacetRefined(facet, f.value);\n    });\n    return content;\n  }, function (e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.setQuery = function (q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\n\n\nAlgoliaSearchHelper.prototype.clearRefinements = function (name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.clearTags = function () {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function () {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\n\n\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addNumericRefinement = function (attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.addRefine = function () {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\n\n\nAlgoliaSearchHelper.prototype.addExclude = function () {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function (attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function () {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function (facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.removeRefine = function () {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\n\n\nAlgoliaSearchHelper.prototype.removeExclude = function () {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\n\n\nAlgoliaSearchHelper.prototype.toggleExclude = function () {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.toggleRefinement = function (facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.toggleRefine = function () {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.toggleTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\n\n\nAlgoliaSearchHelper.prototype.nextPage = function () {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\n\n\nAlgoliaSearchHelper.prototype.previousPage = function () {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n/**\n * @private\n */\n\n\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\nAlgoliaSearchHelper.prototype.setIndex = function (name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\n\n\nAlgoliaSearchHelper.prototype.setQueryParameter = function (parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.setState = function (newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function (newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\n\n\nAlgoliaSearchHelper.prototype.hasRefinements = function (attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  } // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n\n\n  return false;\n};\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\n\n\nAlgoliaSearchHelper.prototype.isExcluded = function (facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\n\n\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function (facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\n\n\nAlgoliaSearchHelper.prototype.hasTag = function (tag) {\n  return this.state.isTagRefined(tag);\n};\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\n\n\nAlgoliaSearchHelper.prototype.isTagRefined = function () {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\n\n\nAlgoliaSearchHelper.prototype.getIndex = function () {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\n\n\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\n\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\n\nAlgoliaSearchHelper.prototype.getTags = function () {\n  return this.state.tagRefinements;\n};\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\n\n\nAlgoliaSearchHelper.prototype.getRefinements = function (facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n    conjRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n    excludeRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n    disjRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n  Object.keys(numericRefinements).forEach(function (operator) {\n    var value = numericRefinements[operator];\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n  return refinements;\n};\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\n\n\nAlgoliaSearchHelper.prototype.getNumericRefinement = function (attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\n\n\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function (facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n}; // /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\n\n\nAlgoliaSearchHelper.prototype._search = function (options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function (derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n\n    var derivedStateQueries = requestBuilder._getQueries(derivedState.index, derivedState);\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n    return derivedStateQueries;\n  });\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n  var queryId = this._queryId++;\n  this._currentNbQueries++;\n\n  try {\n    this.client.search(queries).then(this._dispatchAlgoliaResponse.bind(this, states, queryId)).catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\n\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function (states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n  var results = content.results.slice();\n  states.forEach(function (s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function (queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n  this.emit('error', {\n    error: error\n  });\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function (query, facetFilters, numericFilters, tagFilters) {\n  return query || facetFilters.length !== 0 || numericFilters.length !== 0 || tagFilters.length !== 0;\n};\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\n\n\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function (facet) {\n  return this.state.disjunctiveRefinements[facet] && this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function (event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\n\n\nAlgoliaSearchHelper.prototype.clearCache = function () {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\n\n\nAlgoliaSearchHelper.prototype.setClient = function (newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.client = newClient;\n  return this;\n};\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\n\n\nAlgoliaSearchHelper.prototype.getClient = function () {\n  return this.client;\n};\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\n\n\nAlgoliaSearchHelper.prototype.derive = function (fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\n\n\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function (derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\n\n\nAlgoliaSearchHelper.prototype.hasPendingRequests = function () {\n  return this._currentNbQueries > 0;\n};\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\n\nmodule.exports = AlgoliaSearchHelper;","import React, { useRef } from \"react\"\nimport { connectSearchBox } from \"react-instantsearch-dom\"\nimport './Search.css'\nimport search from \"./../../images/search.png\"\nimport { media } from 'theme'\n\n\n\nexport default connectSearchBox(\n    ({ refine, onFocus, setQuery, fieldValue, setFieldValue }) => {\n\n        const onChange = (e) => {\n            setFieldValue(e.target.value)\n            refine(e.target.value)\n        }\n\n        const inputRef = useRef();\n\n        const focusInput = () => {\n            inputRef.current.focus()\n        }\n\n        const cleanField = () => {\n            setTimeout(() => {\n                setQuery('')\n                setFieldValue('')\n            }, 300)\n        }\n\n        return (\n            <form className=\"searchForm\">\n                <input\n                    css={{\n                        [media.lessThan('expandedSearch')]: {\n                            width: 20,\n                            transition: 'width .2s ease-in',\n                            ':focus': {\n                                width: '160px'\n                            }\n                        }\n                    }}\n                    onBlur={cleanField}\n                    className=\"searchInput\"\n                    type=\"text\"\n                    placeholder=\"Search\"\n                    aria-label=\"Search\"\n                    onChange={onChange}\n                    value={fieldValue}\n                    ref={inputRef}\n                    onFocus={onFocus}\n                />\n                <span onClick={focusInput} css={{cursor: 'text'}} className=\"magGlass\">\n                    <img src={search} css={{ width: 15 }} />\n                </span>\n            </form>\n        )\n    }\n)","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nvar shallowEqual = _interopDefault(require('shallowequal'));\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_Component) {\n      _inheritsLoose(SideEffect, _Component);\n\n      function SideEffect() {\n        return _Component.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n        return !shallowEqual(nextProps, this.props);\n      };\n\n      _proto.componentWillMount = function componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.Component);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\n// This is not pretty.\n// See https://github.com/facebook/react/issues/11538#issuecomment-417504600\n// We need this because we don't even offer official translations.\n// https://github.com/facebook/react/issues/12460\n\nexport default function patchDOMForGoogleTranslate() {\n  if (typeof Node !== 'function' || Node.prototype == null) {\n    return;\n  }\n\n  // $FlowFixMe Intentionally monkepatching.\n  const originalRemoveChild = Node.prototype.removeChild;\n  // $FlowFixMe Intentionally monkepatching.\n  Node.prototype.removeChild = function(child) {\n    if (child.parentNode !== this) {\n      if (typeof console !== 'undefined') {\n        console.error(\n          'Cannot remove a child from a different parent',\n          child,\n          this,\n        );\n      }\n      return child;\n    }\n    return originalRemoveChild.apply(this, arguments);\n  };\n\n  // $FlowFixMe Intentionally monkepatching.\n  const originalInsertBefore = Node.prototype.insertBefore;\n  // $FlowFixMe Intentionally monkepatching.\n  Node.prototype.insertBefore = function(newNode, referenceNode) {\n    if (referenceNode && referenceNode.parentNode !== this) {\n      if (typeof console !== 'undefined') {\n        console.error(\n          'Cannot insert before a reference node from a different parent',\n          referenceNode,\n          this,\n        );\n      }\n      return newNode;\n    }\n    return originalInsertBefore.apply(this, arguments);\n  };\n}\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\n\nvar find = require('./find');\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\n\n\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function (sort) {\n    return sort.split(':');\n  });\n  return sortBy.reduce(function preparePredicate(out, sort) {\n    var sortInstruction = sort.split(':');\n    var matchingDefault = find(defaultInstructions, function (defaultInstruction) {\n      return defaultInstruction[0] === sortInstruction[0];\n    });\n\n    if (sortInstruction.length > 1 || !matchingDefault) {\n      out[0].push(sortInstruction[0]);\n      out[1].push(sortInstruction[1]);\n      return out;\n    }\n\n    out[0].push(matchingDefault[0]);\n    out[1].push(matchingDefault[1]);\n    return out;\n  }, [[], []]);\n};","import { default as React, useEffect, useState } from \"react\"\nimport { media } from 'theme'\nimport { connectHits, Highlight } from \"react-instantsearch-dom\"\nimport './Search.css'\n\nconst ignoreStrings = ['Watch the tutorial', 'Watch an explanation video', 'Watch video', 'Watch the video tutorial']\n\nconst HitsInIndex = ({ query, hits }) => {\n\n    const [selected, setSelected] = useState(undefined);\n    const downPress = useKeyPress(\"ArrowDown\");\n    const upPress = useKeyPress(\"ArrowUp\");\n    const enterPress = useKeyPress(\"Enter\");\n    const [cursor, setCursor] = useState(0);\n    const [hovered, setHovered] = useState(undefined);\n\n    useEffect(() => {\n        if (hits.length && downPress) {\n            setCursor(prevState =>\n                prevState < hits.length - 1 ? prevState + 1 : prevState\n            );\n        }\n    }, [downPress]);\n    useEffect(() => {\n        if (hits.length && upPress) {\n            setCursor(prevState => (prevState > 0 ? prevState - 1 : prevState));\n        }\n    }, [upPress]);\n    useEffect(() => {\n        if (hits.length && enterPress) {\n            setSelected(hits[cursor]);\n        }\n    }, [cursor, enterPress]);\n    useEffect(() => {\n        if (hits.length && hovered) {\n            setCursor(hits.indexOf(hovered));\n        }\n    }, [hovered]);\n\n\n\n    return (\n        <>\n            {hits.map((hit, i) => {\n\n                const onLink = (url) => e => {\n                    e.preventDefault()\n                    window.location.href = url\n                }\n\n                const getLink = (title) => {\n                    return `${hit.slug}#${title.replace(/\\s/ig, '-').replace(/[\\?!.<>,]/ig, '').toLowerCase()}`\n                }\n\n\n\n                const headings = hit.headings\n                    .filter(({ value }) => {\n                        if (!value || ignoreStrings.some(string => string.includes(value))) {\n                            return false\n                        }\n                        return value.toLowerCase().includes(query)\n                    })\n                    .map(({ value }, i) => {\n                        if (value.includes('<code class')) {\n                            value = value.split('>')[1].split('<')[0]\n                        }\n\n                        return (\n                            <a key={i} className=\"resultLink\" href={getLink(value)} onClick={onLink(getLink(value))}  >\n                                <h5\n                                    css={{\n                                        marginBottom: 10\n                                    }}>\n                                    {value}\n                                </h5>\n                            </a>\n                        )\n                    })\n                if (headings.length === 0) {\n                    headings.push(\n                        <a key={1} className=\"resultLink\" href={getLink(hit.title)} onClick={onLink(getLink(hit.title))} >\n                            <h5>{hit.title}</h5>\n                        </a>\n                    )\n                }\n\n                return (\n                    <div\n                        onClick={() => setSelected(item)}\n                        // onMouseEnter={() => setHovered(item)}\n                        // onMouseLeave={() => setHovered(undefined)}\n                        className={`resultHit ${i === cursor ? \"active\" : \"\"}`}\n                        style={{\n                            display: 'grid',\n                            gridTemplateColumns: '37% 61%',\n                            gridGap: '2%',\n                            margin: '10px 0',\n                        }}>\n                        <a href={getLink(hit.title)} onClick={onLink(getLink(hit.title))} >\n                            <div\n                                css={{\n                                    fontSize: 20,\n                                    color: '#777',\n                                    paddingLeft: 20,\n                                    // borderRight: '1px solid #999',\n                                    [media.lessThan('large')]: {\n                                        fontSize: 16,\n                                    },\n                                    [media.lessThan('medium')]: {\n                                        fontSize: 16,\n                                    },\n                                }}>\n                                {hit.title}\n                            </div>\n                        </a >\n                        <div css={{\n                            fontSize: 20,\n                            [media.lessThan('large')]: {\n                                fontSize: 16,\n                            },\n                            [media.lessThan('medium')]: {\n                                fontSize: 16,\n                            },\n                            'hover': {\n                                marginRight: '-3px'\n                            },\n                        }}>\n                            {headings}\n                        </div>\n                    </div>\n                )\n            })}\n        </>\n    )\n}\n\nconst useKeyPress = (targetKey) => {\n    const [keyPressed, setKeyPressed] = useState(false)\n\n    const downHandler = ({ key }) => {\n        if (key === targetKey) {\n            setKeyPressed(true)\n        }\n    }\n    const upHandler = ({ key }) => {\n        if (key === targetKey) {\n            setKeyPressed(false)\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", downHandler)\n        window.addEventListener(\"keyup\", upHandler)\n\n        return () => {\n            window.removeEventListener(\"keydown\", downHandler)\n            window.removeEventListener(\"keyup\", upHandler)\n        }\n    })\n\n    return keyPressed\n}\n\n\nconst HitsOrAbsence = ({ hits, index, query }) => {\n\n    return (\n        <>\n            {\n                !!hits[0]\n                    ? <HitsInIndex\n                        index={index}\n                        query={query}\n                        hits={hits}\n                        // pressedKey={pressedKey}\n                    />\n                    : <div css={{ textAlign: 'center', marginTop: 10 }}>No results found</div>\n            }\n        </>\n    )\n}\n\nconst AllHits = connectHits(HitsOrAbsence)\n\n\nconst SearchResult = ({ indices, show, query }) => {\n\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div\n            className=\"searchResult\"\n            css={{\n                display: 'block',\n                right: 0,\n                width: 600,\n                maxHeight: 400,\n                overflow: 'scroll',\n                // position: 'absolute',\n                zIndex: 2,\n                borderRadius: 5,\n                boxShadow: 'inset 0 0 10px #ddd',\n                top: '100%',\n                backgroundColor: '#fff',\n                color: '#000',\n                [media.lessThan('large')]: {\n                    width: 450,\n                },\n                [media.lessThan('medium')]: {\n                    width: \"350\",\n                    // position: 'static',\n\n                },\n            }}\n        >\n            {indices.map(index => (\n                <React.Fragment key={index.name}>\n                    <AllHits\n                        // pressedKey={pressedKey}\n                        index={index}\n                        query={query} />\n                </React.Fragment>\n            ))}\n        </div>\n    )\n}\n\nexport default SearchResult","/*! algoliasearch-lite.umd.js | 4.4.0 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = e || self).algoliasearch = t();\n}(this, function () {\n  \"use strict\";\n\n  function e(e, t, r) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = r, e;\n  }\n\n  function t(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);\n      t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }\n\n    return r;\n  }\n\n  function r(r) {\n    for (var n = 1; n < arguments.length; n++) {\n      var o = null != arguments[n] ? arguments[n] : {};\n      n % 2 ? t(Object(o), !0).forEach(function (t) {\n        e(r, t, o[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : t(Object(o)).forEach(function (e) {\n        Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e));\n      });\n    }\n\n    return r;\n  }\n\n  function n(e, t) {\n    if (null == e) return {};\n\n    var r,\n        n,\n        o = function (e, t) {\n      if (null == e) return {};\n      var r,\n          n,\n          o = {},\n          a = Object.keys(e);\n\n      for (n = 0; n < a.length; n++) {\n        r = a[n], t.indexOf(r) >= 0 || (o[r] = e[r]);\n      }\n\n      return o;\n    }(e, t);\n\n    if (Object.getOwnPropertySymbols) {\n      var a = Object.getOwnPropertySymbols(e);\n\n      for (n = 0; n < a.length; n++) {\n        r = a[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]);\n      }\n    }\n\n    return o;\n  }\n\n  function o(e, t) {\n    return function (e) {\n      if (Array.isArray(e)) return e;\n    }(e) || function (e, t) {\n      if (!(Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e))) return;\n      var r = [],\n          n = !0,\n          o = !1,\n          a = void 0;\n\n      try {\n        for (var u, i = e[Symbol.iterator](); !(n = (u = i.next()).done) && (r.push(u.value), !t || r.length !== t); n = !0) {\n          ;\n        }\n      } catch (e) {\n        o = !0, a = e;\n      } finally {\n        try {\n          n || null == i.return || i.return();\n        } finally {\n          if (o) throw a;\n        }\n      }\n\n      return r;\n    }(e, t) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }();\n  }\n\n  function a(e) {\n    return function (e) {\n      if (Array.isArray(e)) {\n        for (var t = 0, r = new Array(e.length); t < e.length; t++) {\n          r[t] = e[t];\n        }\n\n        return r;\n      }\n    }(e) || function (e) {\n      if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n    }(e) || function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n    }();\n  }\n\n  function u(e) {\n    var t,\n        r = \"algoliasearch-client-js-\".concat(e.key),\n        n = function n() {\n      return void 0 === t && (t = e.localStorage || window.localStorage), t;\n    },\n        a = function a() {\n      return JSON.parse(n().getItem(r) || \"{}\");\n    };\n\n    return {\n      get: function get(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        };\n        return Promise.resolve().then(function () {\n          var r = JSON.stringify(e),\n              n = a()[r];\n          return Promise.all([n || t(), void 0 !== n]);\n        }).then(function (e) {\n          var t = o(e, 2),\n              n = t[0],\n              a = t[1];\n          return Promise.all([n, a || r.miss(n)]);\n        }).then(function (e) {\n          return o(e, 1)[0];\n        });\n      },\n      set: function set(e, t) {\n        return Promise.resolve().then(function () {\n          var o = a();\n          return o[JSON.stringify(e)] = t, n().setItem(r, JSON.stringify(o)), t;\n        });\n      },\n      delete: function _delete(e) {\n        return Promise.resolve().then(function () {\n          var t = a();\n          delete t[JSON.stringify(e)], n().setItem(r, JSON.stringify(t));\n        });\n      },\n      clear: function clear() {\n        return Promise.resolve().then(function () {\n          n().removeItem(r);\n        });\n      }\n    };\n  }\n\n  function i(e) {\n    var t = a(e.caches),\n        r = t.shift();\n    return void 0 === r ? {\n      get: function get(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        },\n            n = t();\n        return n.then(function (e) {\n          return Promise.all([e, r.miss(e)]);\n        }).then(function (e) {\n          return o(e, 1)[0];\n        });\n      },\n      set: function set(e, t) {\n        return Promise.resolve(t);\n      },\n      delete: function _delete(e) {\n        return Promise.resolve();\n      },\n      clear: function clear() {\n        return Promise.resolve();\n      }\n    } : {\n      get: function get(e, n) {\n        var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        };\n        return r.get(e, n, o).catch(function () {\n          return i({\n            caches: t\n          }).get(e, n, o);\n        });\n      },\n      set: function set(e, n) {\n        return r.set(e, n).catch(function () {\n          return i({\n            caches: t\n          }).set(e, n);\n        });\n      },\n      delete: function _delete(e) {\n        return r.delete(e).catch(function () {\n          return i({\n            caches: t\n          }).delete(e);\n        });\n      },\n      clear: function clear() {\n        return r.clear().catch(function () {\n          return i({\n            caches: t\n          }).clear();\n        });\n      }\n    };\n  }\n\n  function s() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n      serializable: !0\n    },\n        t = {};\n    return {\n      get: function get(r, n) {\n        var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        },\n            a = JSON.stringify(r);\n        if (a in t) return Promise.resolve(e.serializable ? JSON.parse(t[a]) : t[a]);\n\n        var u = n(),\n            i = o && o.miss || function () {\n          return Promise.resolve();\n        };\n\n        return u.then(function (e) {\n          return i(e);\n        }).then(function () {\n          return u;\n        });\n      },\n      set: function set(r, n) {\n        return t[JSON.stringify(r)] = e.serializable ? JSON.stringify(n) : n, Promise.resolve(n);\n      },\n      delete: function _delete(e) {\n        return delete t[JSON.stringify(e)], Promise.resolve();\n      },\n      clear: function clear() {\n        return t = {}, Promise.resolve();\n      }\n    };\n  }\n\n  function c(e) {\n    for (var t = e.length - 1; t > 0; t--) {\n      var r = Math.floor(Math.random() * (t + 1)),\n          n = e[t];\n      e[t] = e[r], e[r] = n;\n    }\n\n    return e;\n  }\n\n  function l(e, t) {\n    return Object.keys(void 0 !== t ? t : {}).forEach(function (r) {\n      e[r] = t[r](e);\n    }), e;\n  }\n\n  function f(e) {\n    for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) {\n      r[n - 1] = arguments[n];\n    }\n\n    var o = 0;\n    return e.replace(/%s/g, function () {\n      return encodeURIComponent(r[o++]);\n    });\n  }\n\n  var h = {\n    WithinQueryParameters: 0,\n    WithinHeaders: 1\n  };\n\n  function d(e, t) {\n    var r = e || {},\n        n = r.data || {};\n    return Object.keys(r).forEach(function (e) {\n      -1 === [\"timeout\", \"headers\", \"queryParameters\", \"data\", \"cacheable\"].indexOf(e) && (n[e] = r[e]);\n    }), {\n      data: Object.entries(n).length > 0 ? n : void 0,\n      timeout: r.timeout || t,\n      headers: r.headers || {},\n      queryParameters: r.queryParameters || {},\n      cacheable: r.cacheable\n    };\n  }\n\n  var m = {\n    Read: 1,\n    Write: 2,\n    Any: 3\n  },\n      p = 1,\n      v = 2,\n      g = 3;\n\n  function y(e) {\n    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : p;\n    return r({}, e, {\n      status: t,\n      lastUpdate: Date.now()\n    });\n  }\n\n  function b(e) {\n    return {\n      protocol: e.protocol || \"https\",\n      url: e.url,\n      accept: e.accept || m.Any\n    };\n  }\n\n  var O = \"GET\",\n      P = \"POST\";\n\n  function q(e, t) {\n    return Promise.all(t.map(function (t) {\n      return e.get(t, function () {\n        return Promise.resolve(y(t));\n      });\n    })).then(function (e) {\n      var r = e.filter(function (e) {\n        return function (e) {\n          return e.status === p || Date.now() - e.lastUpdate > 12e4;\n        }(e);\n      }),\n          n = e.filter(function (e) {\n        return function (e) {\n          return e.status === g && Date.now() - e.lastUpdate <= 12e4;\n        }(e);\n      }),\n          o = [].concat(a(r), a(n));\n      return {\n        getTimeout: function getTimeout(e, t) {\n          return (0 === n.length && 0 === e ? 1 : n.length + 3 + e) * t;\n        },\n        statelessHosts: o.length > 0 ? o.map(function (e) {\n          return b(e);\n        }) : t\n      };\n    });\n  }\n\n  function j(e, t, n, o) {\n    var u = [],\n        i = function (e, t) {\n      if (e.method === O || void 0 === e.data && void 0 === t.data) return;\n      var n = Array.isArray(e.data) ? e.data : r({}, e.data, {}, t.data);\n      return JSON.stringify(n);\n    }(n, o),\n        s = function (e, t) {\n      var n = r({}, e.headers, {}, t.headers),\n          o = {};\n      return Object.keys(n).forEach(function (e) {\n        var t = n[e];\n        o[e.toLowerCase()] = t;\n      }), o;\n    }(e, o),\n        c = n.method,\n        l = n.method !== O ? {} : r({}, n.data, {}, o.data),\n        f = r({\n      \"x-algolia-agent\": e.userAgent.value\n    }, e.queryParameters, {}, l, {}, o.queryParameters),\n        h = 0,\n        d = function t(r, a) {\n      var l = r.pop();\n      if (void 0 === l) throw {\n        name: \"RetryError\",\n        message: \"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",\n        transporterStackTrace: A(u)\n      };\n\n      var d = {\n        data: i,\n        headers: s,\n        method: c,\n        url: w(l, n.path, f),\n        connectTimeout: a(h, e.timeouts.connect),\n        responseTimeout: a(h, o.timeout)\n      },\n          m = function m(e) {\n        var t = {\n          request: d,\n          response: e,\n          host: l,\n          triesLeft: r.length\n        };\n        return u.push(t), t;\n      },\n          p = {\n        onSucess: function onSucess(e) {\n          return function (e) {\n            try {\n              return JSON.parse(e.content);\n            } catch (t) {\n              throw function (e, t) {\n                return {\n                  name: \"DeserializationError\",\n                  message: e,\n                  response: t\n                };\n              }(t.message, e);\n            }\n          }(e);\n        },\n        onRetry: function onRetry(n) {\n          var o = m(n);\n          return n.isTimedOut && h++, Promise.all([e.logger.info(\"Retryable failure\", x(o)), e.hostsCache.set(l, y(l, n.isTimedOut ? g : v))]).then(function () {\n            return t(r, a);\n          });\n        },\n        onFail: function onFail(e) {\n          throw m(e), function (e, t) {\n            var r = e.content,\n                n = e.status,\n                o = r;\n\n            try {\n              o = JSON.parse(r).message;\n            } catch (e) {}\n\n            return function (e, t, r) {\n              return {\n                name: \"ApiError\",\n                message: e,\n                status: t,\n                transporterStackTrace: r\n              };\n            }(o, n, t);\n          }(e, A(u));\n        }\n      };\n\n      return e.requester.send(d).then(function (e) {\n        return function (e, t) {\n          return function (e) {\n            var t = e.status;\n            return e.isTimedOut || function (e) {\n              var t = e.isTimedOut,\n                  r = e.status;\n              return !t && 0 == ~~r;\n            }(e) || 2 != ~~(t / 100) && 4 != ~~(t / 100);\n          }(e) ? t.onRetry(e) : 2 == ~~(e.status / 100) ? t.onSucess(e) : t.onFail(e);\n        }(e, p);\n      });\n    };\n\n    return q(e.hostsCache, t).then(function (e) {\n      return d(a(e.statelessHosts).reverse(), e.getTimeout);\n    });\n  }\n\n  function S(e) {\n    var t = {\n      value: \"Algolia for JavaScript (\".concat(e, \")\"),\n      add: function add(e) {\n        var r = \"; \".concat(e.segment).concat(void 0 !== e.version ? \" (\".concat(e.version, \")\") : \"\");\n        return -1 === t.value.indexOf(r) && (t.value = \"\".concat(t.value).concat(r)), t;\n      }\n    };\n    return t;\n  }\n\n  function w(e, t, r) {\n    var n = T(r),\n        o = \"\".concat(e.protocol, \"://\").concat(e.url, \"/\").concat(\"/\" === t.charAt(0) ? t.substr(1) : t);\n    return n.length && (o += \"?\".concat(n)), o;\n  }\n\n  function T(e) {\n    return Object.keys(e).map(function (t) {\n      return f(\"%s=%s\", t, (r = e[t], \"[object Object]\" === Object.prototype.toString.call(r) || \"[object Array]\" === Object.prototype.toString.call(r) ? JSON.stringify(e[t]) : e[t]));\n      var r;\n    }).join(\"&\");\n  }\n\n  function A(e) {\n    return e.map(function (e) {\n      return x(e);\n    });\n  }\n\n  function x(e) {\n    var t = e.request.headers[\"x-algolia-api-key\"] ? {\n      \"x-algolia-api-key\": \"*****\"\n    } : {};\n    return r({}, e, {\n      request: r({}, e.request, {\n        headers: r({}, e.request.headers, {}, t)\n      })\n    });\n  }\n\n  var C = function C(e) {\n    var t = e.appId,\n        n = function (e, t, r) {\n      var n = {\n        \"x-algolia-api-key\": r,\n        \"x-algolia-application-id\": t\n      };\n      return {\n        headers: function headers() {\n          return e === h.WithinHeaders ? n : {};\n        },\n        queryParameters: function queryParameters() {\n          return e === h.WithinQueryParameters ? n : {};\n        }\n      };\n    }(void 0 !== e.authMode ? e.authMode : h.WithinHeaders, t, e.apiKey),\n        a = function (e) {\n      var t = e.hostsCache,\n          r = e.logger,\n          n = e.requester,\n          a = e.requestsCache,\n          u = e.responsesCache,\n          i = e.timeouts,\n          s = e.userAgent,\n          c = e.hosts,\n          l = e.queryParameters,\n          f = {\n        hostsCache: t,\n        logger: r,\n        requester: n,\n        requestsCache: a,\n        responsesCache: u,\n        timeouts: i,\n        userAgent: s,\n        headers: e.headers,\n        queryParameters: l,\n        hosts: c.map(function (e) {\n          return b(e);\n        }),\n        read: function read(e, t) {\n          var r = d(t, f.timeouts.read),\n              n = function n() {\n            return j(f, f.hosts.filter(function (e) {\n              return 0 != (e.accept & m.Read);\n            }), e, r);\n          };\n\n          if (!0 !== (void 0 !== r.cacheable ? r.cacheable : e.cacheable)) return n();\n          var a = {\n            request: e,\n            mappedRequestOptions: r,\n            transporter: {\n              queryParameters: f.queryParameters,\n              headers: f.headers\n            }\n          };\n          return f.responsesCache.get(a, function () {\n            return f.requestsCache.get(a, function () {\n              return f.requestsCache.set(a, n()).then(function (e) {\n                return Promise.all([f.requestsCache.delete(a), e]);\n              }, function (e) {\n                return Promise.all([f.requestsCache.delete(a), Promise.reject(e)]);\n              }).then(function (e) {\n                var t = o(e, 2);\n                t[0];\n                return t[1];\n              });\n            });\n          }, {\n            miss: function miss(e) {\n              return f.responsesCache.set(a, e);\n            }\n          });\n        },\n        write: function write(e, t) {\n          return j(f, f.hosts.filter(function (e) {\n            return 0 != (e.accept & m.Write);\n          }), e, d(t, f.timeouts.write));\n        }\n      };\n      return f;\n    }(r({\n      hosts: [{\n        url: \"\".concat(t, \"-dsn.algolia.net\"),\n        accept: m.Read\n      }, {\n        url: \"\".concat(t, \".algolia.net\"),\n        accept: m.Write\n      }].concat(c([{\n        url: \"\".concat(t, \"-1.algolianet.com\")\n      }, {\n        url: \"\".concat(t, \"-2.algolianet.com\")\n      }, {\n        url: \"\".concat(t, \"-3.algolianet.com\")\n      }]))\n    }, e, {\n      headers: r({}, n.headers(), {}, {\n        \"content-type\": \"application/x-www-form-urlencoded\"\n      }, {}, e.headers),\n      queryParameters: r({}, n.queryParameters(), {}, e.queryParameters)\n    }));\n\n    return l({\n      transporter: a,\n      appId: t,\n      addAlgoliaAgent: function addAlgoliaAgent(e, t) {\n        a.userAgent.add({\n          segment: e,\n          version: t\n        });\n      },\n      clearCache: function clearCache() {\n        return Promise.all([a.requestsCache.clear(), a.responsesCache.clear()]).then(function () {});\n      }\n    }, e.methods);\n  },\n      N = function N(e) {\n    return function (t) {\n      var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          n = {\n        transporter: e.transporter,\n        appId: e.appId,\n        indexName: t\n      };\n      return l(n, r.methods);\n    };\n  },\n      k = function k(e) {\n    return function (t, n) {\n      var o = t.map(function (e) {\n        return r({}, e, {\n          params: T(e.params || {})\n        });\n      });\n      return e.transporter.read({\n        method: P,\n        path: \"1/indexes/*/queries\",\n        data: {\n          requests: o\n        },\n        cacheable: !0\n      }, n);\n    };\n  },\n      J = function J(e) {\n    return function (t, o) {\n      return Promise.all(t.map(function (t) {\n        var a = t.params,\n            u = a.facetName,\n            i = a.facetQuery,\n            s = n(a, [\"facetName\", \"facetQuery\"]);\n        return N(e)(t.indexName, {\n          methods: {\n            searchForFacetValues: I\n          }\n        }).searchForFacetValues(u, i, r({}, o, {}, s));\n      }));\n    };\n  },\n      E = function E(e) {\n    return function (t, r) {\n      return e.transporter.read({\n        method: P,\n        path: f(\"1/indexes/%s/query\", e.indexName),\n        data: {\n          query: t\n        },\n        cacheable: !0\n      }, r);\n    };\n  },\n      I = function I(e) {\n    return function (t, r, n) {\n      return e.transporter.read({\n        method: P,\n        path: f(\"1/indexes/%s/facets/%s/query\", e.indexName, t),\n        data: {\n          facetQuery: r\n        },\n        cacheable: !0\n      }, n);\n    };\n  },\n      F = 1,\n      R = 2,\n      D = 3;\n\n  function W(e, t, n) {\n    var o,\n        a = {\n      appId: e,\n      apiKey: t,\n      timeouts: {\n        connect: 1,\n        read: 2,\n        write: 30\n      },\n      requester: {\n        send: function send(e) {\n          return new Promise(function (t) {\n            var r = new XMLHttpRequest();\n            r.open(e.method, e.url, !0), Object.keys(e.headers).forEach(function (t) {\n              return r.setRequestHeader(t, e.headers[t]);\n            });\n\n            var n,\n                o = function o(e, n) {\n              return setTimeout(function () {\n                r.abort(), t({\n                  status: 0,\n                  content: n,\n                  isTimedOut: !0\n                });\n              }, 1e3 * e);\n            },\n                a = o(e.connectTimeout, \"Connection timeout\");\n\n            r.onreadystatechange = function () {\n              r.readyState > r.OPENED && void 0 === n && (clearTimeout(a), n = o(e.responseTimeout, \"Socket timeout\"));\n            }, r.onerror = function () {\n              0 === r.status && (clearTimeout(a), clearTimeout(n), t({\n                content: r.responseText || \"Network request failed\",\n                status: r.status,\n                isTimedOut: !1\n              }));\n            }, r.onload = function () {\n              clearTimeout(a), clearTimeout(n), t({\n                content: r.responseText,\n                status: r.status,\n                isTimedOut: !1\n              });\n            }, r.send(e.data);\n          });\n        }\n      },\n      logger: (o = D, {\n        debug: function debug(e, t) {\n          return F >= o && console.debug(e, t), Promise.resolve();\n        },\n        info: function info(e, t) {\n          return R >= o && console.info(e, t), Promise.resolve();\n        },\n        error: function error(e, t) {\n          return console.error(e, t), Promise.resolve();\n        }\n      }),\n      responsesCache: s(),\n      requestsCache: s({\n        serializable: !1\n      }),\n      hostsCache: i({\n        caches: [u({\n          key: \"\".concat(\"4.4.0\", \"-\").concat(e)\n        }), s()]\n      }),\n      userAgent: S(\"4.4.0\").add({\n        segment: \"Browser\",\n        version: \"lite\"\n      }),\n      authMode: h.WithinQueryParameters\n    };\n    return C(r({}, a, {}, n, {\n      methods: {\n        search: k,\n        searchForFacetValues: J,\n        multipleQueries: k,\n        multipleSearchForFacetValues: J,\n        initIndex: function initIndex(e) {\n          return function (t) {\n            return N(e)(t, {\n              methods: {\n                search: E,\n                searchForFacetValues: I\n              }\n            });\n          };\n        }\n      }\n    }));\n  }\n\n  return W.version = \"4.4.0\", W;\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\"; // From https://github.com/reactjs/react-redux/blob/master/src/utils/shallowEqual.js\n\nexport var shallowEqual = function shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  } // Test for A's keys different from B.\n\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n};\nexport var getDisplayName = function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'UnknownComponent';\n};\nvar resolved = Promise.resolve();\nexport var defer = function defer(f) {\n  resolved.then(f);\n};\n\nvar isPlainObject = function isPlainObject(value) {\n  return _typeof(value) === 'object' && value !== null && !Array.isArray(value);\n};\n\nexport var removeEmptyKey = function removeEmptyKey(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if (!isPlainObject(value)) {\n      return;\n    }\n\n    if (!objectHasKeys(value)) {\n      delete obj[key];\n    } else {\n      removeEmptyKey(value);\n    }\n  });\n  return obj;\n};\nexport var removeEmptyArraysFromObject = function removeEmptyArraysFromObject(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if (Array.isArray(value) && value.length === 0) {\n      delete obj[key];\n    }\n  });\n  return obj;\n};\nexport function addAbsolutePositions(hits, hitsPerPage, page) {\n  return hits.map(function (hit, index) {\n    return _objectSpread({}, hit, {\n      __position: hitsPerPage * page + index + 1\n    });\n  });\n}\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n\n  return hits.map(function (hit) {\n    return _objectSpread({}, hit, {\n      __queryID: queryID\n    });\n  });\n}\nexport function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n\n  return undefined;\n}\nexport function objectHasKeys(object) {\n  return object && Object.keys(object).length > 0;\n} // https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\n\nexport function omit(source, excluded) {\n  if (source === null || source === undefined) {\n    return {};\n  }\n\n  var target = {};\n  var sourceKeys = Object.keys(source);\n\n  for (var i = 0; i < sourceKeys.length; i++) {\n    var _key = sourceKeys[i];\n\n    if (excluded.indexOf(_key) >= 0) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    target[_key] = source[_key];\n  }\n\n  return target;\n}\n/**\n * Retrieve the value at a path of the object:\n *\n * @example\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   'test.this.function[0].now.everyone'\n * ); // true\n *\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   ['test', 'this', 'function', 0, 'now', 'everyone']\n * ); // true\n *\n * @param object Source object to query\n * @param path either an array of properties, or a string form of the properties, separated by .\n */\n\nexport var getPropertyByPath = function getPropertyByPath(object, path) {\n  return (Array.isArray(path) ? path : path.replace(/\\[(\\d+)]/g, '.$1').split('.')).reduce(function (current, key) {\n    return current ? current[key] : undefined;\n  }, object);\n};\nexport function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return typeof value === 'function' || Array.isArray(value) || Object.prototype.toString.call(value) === '[object Object]';\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (!Object.prototype.hasOwnProperty.call(source, key)) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (isObjectOrArrayOrFunction(targetVal) && isObjectOrArrayOrFunction(sourceVal)) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n\n  return target;\n}\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = merge;","'use strict'; // @MAJOR can be replaced by native Array#find when we change support\n\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport Helmet from 'react-helmet';\nimport React from 'react';\nimport {urlRoot} from 'site-constants';\n// $FlowFixMe This is a valid path\nimport languages from '../../../content/languages.yml';\n\nconst defaultDescription = 'The fastest Open-Source theme for Magento 2';\n\ntype Props = {\n  title: string,\n  ogDescription: string,\n  canonicalUrl: string,\n};\n\n// only provide alternate links to pages in languages where 95-100% of core content has been translated\n// which is determined by status enum of 2\nconst completeLanguages = languages.filter(language => {\n  return language.status == 2;\n});\n\nconst alternatePages = canonicalUrl => {\n  return completeLanguages.map(language => (\n    <link\n      key={('alt-', language.code)}\n      rel=\"alternate\"\n      hreflang={language.code}\n      href={canonicalUrl.replace(\n        urlRoot,\n        `https://${\n          language.code === 'en' ? '' : `${language.code}.`\n        }reactjs.org`,\n      )}\n    />\n  ));\n};\n\nconst defaultPage = canonicalUrl => {\n  return canonicalUrl.replace(urlRoot, 'https://reactjs.org');\n};\n\nconst TitleAndMetaTags = ({title, ogDescription, canonicalUrl}: Props) => {\n  return (\n    <Helmet title={title}>\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:type\" content=\"website\" />\n      {canonicalUrl && <meta property=\"og:url\" content={canonicalUrl} />}\n      <meta\n        property=\"og:description\"\n        content={ogDescription || defaultDescription}\n      />\n      <meta property=\"fb:app_id\" content=\"623268441017527\" />\n      {canonicalUrl && <link rel=\"canonical\" href={canonicalUrl} />}\n      {canonicalUrl && (\n        <link\n          rel=\"alternate\"\n          href={defaultPage(canonicalUrl)}\n          hreflang=\"x-default\"\n        />\n      )}\n      {canonicalUrl && alternatePages(canonicalUrl)}\n    </Helmet>\n  );\n};\n\nexport default TitleAndMetaTags;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport TitleAndMetaTags from './TitleAndMetaTags';\n\nexport default TitleAndMetaTags;\n","//\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n};","'use strict';\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\n\nvar omit = require('../functions/omit');\n\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n    var facetRefinement = !refinementList[attribute] ? [valueAsString] : refinementList[attribute].concat(valueAsString);\n    var mod = {};\n    mod[attribute] = facetRefinement;\n    return defaultsPure({}, mod, refinementList);\n  },\n\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function (v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n    return lib.clearRefinement(refinementList, function (v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var newRefinementList = Object.keys(refinementList).reduce(function (memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function (value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n\n        memo[key] = facetList;\n        return memo;\n      }, {});\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] && refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\nmodule.exports = lib;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport {Link} from 'gatsby';\nimport React from 'react';\nimport {colors, media} from 'theme';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  children: Node,\n  target?: string,\n  to: string,\n};\n\nconst FooterLink = ({children, target, to}: Props) => (\n  <Link\n    css={{\n      lineHeight: 2,\n      marginRight: 20,\n      transition: 'color .1s ease',\n      [media.lessThan('large')]: {\n        marginBottom: 10,\n        marginRight: 0,\n      },\n      ':hover': {\n        color: colors.brand,\n      },\n    }}\n    to={to}\n    target={target}>\n    {children}\n  </Link>\n);\n\nexport default FooterLink;\n","import { default as React, useEffect, useState } from \"react\"\nimport { media } from 'theme'\nimport { connectHits } from \"react-instantsearch-dom\"\nimport './Search.css'\n\n\nconst useKeyPress = (targetKey) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n\n    const downHandler = (e) => {\n        if (e.key === \"Enter\" || e.key === \"Tab\") {\n            e.preventDefault()\n        }\n        if (e.key === targetKey) {\n            setKeyPressed(true)\n        }\n    }\n    const upHandler = (e) => {\n        if (e.key === \"Enter\" || e.key === \"Tab\") {\n            e.preventDefault()\n        }\n        if (e.key === targetKey) {\n            setKeyPressed(false)\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", downHandler)\n        window.addEventListener(\"keyup\", upHandler)\n\n        return () => {\n            window.removeEventListener(\"keydown\", downHandler)\n            window.removeEventListener(\"keyup\", upHandler)\n        }\n    })\n\n    return keyPressed\n}\n\nconst HitsInIndex = ({ hits }) => {\n\n    const downPress = useKeyPress(\"ArrowDown\");\n    const upPress = useKeyPress(\"ArrowUp\");\n    const enterPress = useKeyPress(\"Enter\");\n    const tabPress = useKeyPress(\"Tab\");\n    const [cursor, setCursor] = useState(5);\n    const [activeLinkUrl, setActiveLinkUrl] = useState('')\n    const [mouseIn, setMouseIn] = useState(false)\n    let quantity = null;\n\n    useEffect(() => {\n        if (hits.length && (downPress || tabPress)) {\n            setCursor(cursor < quantity ? cursor + 1 : 0);\n        }\n    }, [downPress]);\n\n    useEffect(() => {\n        if (hits.length && upPress) {\n            setCursor(cursor > 0 ? cursor - 1 : quantity);\n        }\n    }, [upPress]);\n\n    useEffect(() => {\n        if (activeLinkUrl && (enterPress || tabPress)) {\n            window.location.href = activeLinkUrl\n        }\n    }, [enterPress, tabPress])\n\n    const handleMouseEnter = () => {\n        setMouseIn(true)\n    }\n\n    const handleMouseLeave = () => {\n        setMouseIn(false)\n        setCursor(5)\n        setActiveLinkUrl('')\n    }\n\n\n\n    const getShortDescription = (description) => {\n        if (description.includes('<')) {\n            description = description.replace(/<\\S+>(.+?)<\\/\\S+>/gi, '$1')\n        }\n        if (description && description.split(' ').length > 10) {\n            const newDescription = description.split(' ').slice(0, 9).join(' ')\n            if ([',', '.'].some(sym => newDescription.endsWith(sym))) {\n                return newDescription.slice(0, -1) + '...'\n            }\n\n            else {\n                return newDescription + '...'\n            }\n        }\n        return description\n    }\n\n\n    return (\n        <>\n            <div className=\"FoundIn\">\n                <h2>\n                    Found in:\n                </h2>\n            </div>\n            <div>\n                <div\n                    onMouseEnter={handleMouseEnter}\n                    onMouseLeave={handleMouseLeave}\n                >\n                    {hits.filter((hit, i) => hit.title !== 'Page Not Found' && i < 5).map((hit, i) => {\n                        quantity = i + 1\n\n                        if (i === 0 && !activeLinkUrl) setActiveLinkUrl(hit.slug)\n                        else if (i === cursor && activeLinkUrl !== hit.slug) setActiveLinkUrl(hit.slug)\n\n                        return (\n                            <a key={i} href={hit.slug} >\n                                <div\n                                    className={`resultHit ${( i === cursor && !mouseIn ) ? \"active\" : \"\" }`}\n                                    style={{\n                                        display: 'grid',\n                                        gridTemplateColumns: '37% 61%',\n                                        gridGap: '2%',\n                                        margin: '10px 0',\n                                    }}>\n                                    <div\n                                        css={{\n                                            fontSize: 20,\n                                            color: '#777',\n                                            paddingLeft: 20,\n                                            [media.lessThan('large')]: {\n                                                fontSize: 16,\n                                            },\n                                            [media.lessThan('medium')]: {\n                                                fontSize: 16,\n                                            },\n                                        }}>\n                                        {hit.title}\n                                    </div>\n                                    <div css={{\n                                        fontSize: 20,\n                                        [media.lessThan('large')]: {\n                                            fontSize: 16,\n                                        },\n                                        [media.lessThan('medium')]: {\n                                            fontSize: 16,\n                                        },\n                                    }}>\n                                        {getShortDescription(hit.description)}\n                                    </div>\n                                </div>\n\n                            </a >\n                        )\n                    })}\n                </div>\n            </div>\n        </>\n    )\n}\n\n\n\nconst HitsOrAbsence = ({ hits, index, query }) => {\n\n    return (\n        <>\n            {\n                !!hits[0]\n                    ? <HitsInIndex\n                        index={index}\n                        query={query}\n                        hits={hits}\n                    />\n                    : <div css={{ textAlign: 'center', margin: '10px 0' }}>No results found</div>\n            }\n        </>\n    )\n}\n\nconst AllHits = connectHits(HitsOrAbsence)\n\n\nconst SearchResult = ({ indices, show, query }) => {\n\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div\n            className=\"searchResult\"\n            css={{\n                display: 'block',\n                right: 0,\n                width: 600,\n                maxHeight: 600,\n                overflow: 'auto',\n                position: 'absolute',\n                zIndex: 2,\n                borderBottomRightRadius: 5,\n                borderBottomLeftRadius: 5,\n                boxShadow: 'inset 0 0 10px #ddd',\n                top: '100%',\n                backgroundColor: '#fff',\n                color: '#000',\n                [media.lessThan('large')]: {\n                    width: 450,\n                },\n                [media.lessThan('small')]: {\n                    position: 'fixed',\n                    top: '40px',\n                    width: '100%'\n                },\n            }}\n        >\n            {indices.map(index => (\n                <React.Fragment key={index.name}>\n                    <AllHits\n                        index={index}\n                        query={query} />\n                </React.Fragment>\n            ))}\n        </div>\n    )\n}\n\nexport default SearchResult","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","'use strict';\n\nvar events = require('events');\n\nvar inherits = require('../functions/inherits');\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\n\n\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, events.EventEmitter);\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\n\nDerivedHelper.prototype.detach = function () {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function (parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;","import algoliasearch from \"algoliasearch/lite\"\nimport { createRef, default as React, useState } from \"react\"\nimport { InstantSearch } from \"react-instantsearch-dom\"\nimport SearchBox from \"./SearchBox\"\nimport SearchResult from \"./SearchResult\"\nimport SearchResultTitles from \"./SearchResultTitles\"\nimport useClickOutside from \"./useClickOutside\"\n\nexport default function Search({ indices }) {\n    const rootRef = createRef()\n    const [query, setQuery] = useState()\n    const [fieldValue, setFieldValue] = useState('')\n    const [hasFocus, setFocus] = useState(false)\n    const searchClient = algoliasearch(\n        process.env.GATSBY_ALGOLIA_APP_ID,\n        process.env.GATSBY_ALGOLIA_SEARCH_KEY\n    )\n\n    useClickOutside(rootRef, () => setFocus(false))\n\n    return (\n        <div\n            ref={rootRef}\n            css={{\n            position: 'relative',\n        }}>\n            <InstantSearch\n                searchClient={searchClient}\n                indexName={indices[0].name}\n                onSearchStateChange={({ query }) => setQuery(query)}\n            >\n                <SearchBox\n                    setQuery={setQuery}\n                    fieldValue={fieldValue}\n                    setFieldValue={setFieldValue}\n                    setFocus={setFocus}\n                    onFocus={() => setFocus(true)}\n                    hasFocus={hasFocus} />\n                <SearchResultTitles\n                    query={query}\n                    show={!!query}\n                    indices={indices}\n                />\n            </InstantSearch>\n        </div>\n    )\n}","'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\n\nvar SearchResults = require('./src/SearchResults');\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\n\n\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\n\n\nalgoliasearchHelper.version = require('./src/version.js');\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\n\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\n\nalgoliasearchHelper.SearchParameters = SearchParameters;\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\n\nalgoliasearchHelper.SearchResults = SearchResults;\nmodule.exports = algoliasearchHelper;","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport isEqual from 'react-fast-compare';\nimport { shallowEqual, getDisplayName, removeEmptyKey } from './utils';\nimport { InstantSearchConsumer, IndexConsumer } from './context';\n/**\n * Connectors are the HOC used to transform React components\n * into InstantSearch widgets.\n * In order to simplify the construction of such connectors\n * `createConnector` takes a description and transform it into\n * a connector.\n * @param {ConnectorDescription} connectorDesc the description of the connector\n * @return {Connector} a function that wraps a component into\n * an instantsearch connected one.\n */\n\nexport function createConnectorWithoutContext(connectorDesc) {\n  if (!connectorDesc.displayName) {\n    throw new Error('`createConnector` requires you to provide a `displayName` property.');\n  }\n\n  var isWidget = typeof connectorDesc.getSearchParameters === 'function' || typeof connectorDesc.getMetadata === 'function' || typeof connectorDesc.transitionState === 'function';\n  return function (Composed) {\n    var Connector = /*#__PURE__*/function (_Component) {\n      _inherits(Connector, _Component);\n\n      function Connector(props) {\n        var _this;\n\n        _classCallCheck(this, Connector);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this, props));\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribe\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unregisterWidget\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isUnmounting\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"state\", {\n          providedProps: _this.getProvidedProps(_this.props)\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"refine\", function () {\n          var _ref;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          _this.props.contextValue.onInternalStateUpdate( // refine will always be defined here because the prop is only given conditionally\n          (_ref = connectorDesc.refine).call.apply(_ref, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"createURL\", function () {\n          var _ref2;\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return _this.props.contextValue.createHrefForState( // refine will always be defined here because the prop is only given conditionally\n          (_ref2 = connectorDesc.refine).call.apply(_ref2, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"searchForFacetValues\", function () {\n          var _ref3;\n\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          _this.props.contextValue.onSearchForFacetValues( // searchForFacetValues will always be defined here because the prop is only given conditionally\n          (_ref3 = connectorDesc.searchForFacetValues).call.apply(_ref3, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n\n        if (connectorDesc.getSearchParameters) {\n          _this.props.contextValue.onSearchParameters(connectorDesc.getSearchParameters.bind(_assertThisInitialized(_this)), {\n            ais: _this.props.contextValue,\n            multiIndexContext: _this.props.indexContextValue\n          }, _this.props);\n        }\n\n        return _this;\n      }\n\n      _createClass(Connector, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          this.unsubscribe = this.props.contextValue.store.subscribe(function () {\n            if (!_this2.isUnmounting) {\n              _this2.setState({\n                providedProps: _this2.getProvidedProps(_this2.props)\n              });\n            }\n          });\n\n          if (isWidget) {\n            this.unregisterWidget = this.props.contextValue.widgetsManager.registerWidget(this);\n          }\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          if (typeof connectorDesc.shouldComponentUpdate === 'function') {\n            return connectorDesc.shouldComponentUpdate.call(this, this.props, nextProps, this.state, nextState);\n          }\n\n          var propsEqual = shallowEqual(this.props, nextProps);\n\n          if (this.state.providedProps === null || nextState.providedProps === null) {\n            if (this.state.providedProps === nextState.providedProps) {\n              return !propsEqual;\n            }\n\n            return true;\n          }\n\n          return !propsEqual || !shallowEqual(this.state.providedProps, nextState.providedProps);\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!isEqual(prevProps, this.props)) {\n            this.setState({\n              providedProps: this.getProvidedProps(this.props)\n            });\n\n            if (isWidget) {\n              this.props.contextValue.widgetsManager.update();\n\n              if (typeof connectorDesc.transitionState === 'function') {\n                this.props.contextValue.onSearchStateChange(connectorDesc.transitionState.call(this, this.props, this.props.contextValue.store.getState().widgets, this.props.contextValue.store.getState().widgets));\n              }\n            }\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isUnmounting = true;\n\n          if (this.unsubscribe) {\n            this.unsubscribe();\n          }\n\n          if (this.unregisterWidget) {\n            this.unregisterWidget();\n\n            if (typeof connectorDesc.cleanUp === 'function') {\n              var nextState = connectorDesc.cleanUp.call(this, this.props, this.props.contextValue.store.getState().widgets);\n              this.props.contextValue.store.setState(_objectSpread({}, this.props.contextValue.store.getState(), {\n                widgets: nextState\n              }));\n              this.props.contextValue.onSearchStateChange(removeEmptyKey(nextState));\n            }\n          }\n        }\n      }, {\n        key: \"getProvidedProps\",\n        value: function getProvidedProps(props) {\n          var _this$props$contextVa = this.props.contextValue.store.getState(),\n              widgets = _this$props$contextVa.widgets,\n              results = _this$props$contextVa.results,\n              resultsFacetValues = _this$props$contextVa.resultsFacetValues,\n              searching = _this$props$contextVa.searching,\n              searchingForFacetValues = _this$props$contextVa.searchingForFacetValues,\n              isSearchStalled = _this$props$contextVa.isSearchStalled,\n              metadata = _this$props$contextVa.metadata,\n              error = _this$props$contextVa.error;\n\n          var searchResults = {\n            results: results,\n            searching: searching,\n            searchingForFacetValues: searchingForFacetValues,\n            isSearchStalled: isSearchStalled,\n            error: error\n          };\n          return connectorDesc.getProvidedProps.call(this, props, widgets, searchResults, metadata, // @MAJOR: move this attribute on the `searchResults` it doesn't\n          // makes sense to have it into a separate argument. The search\n          // flags are on the object why not the results?\n          resultsFacetValues);\n        }\n      }, {\n        key: \"getSearchParameters\",\n        value: function getSearchParameters(searchParameters) {\n          if (typeof connectorDesc.getSearchParameters === 'function') {\n            return connectorDesc.getSearchParameters.call(this, searchParameters, this.props, this.props.contextValue.store.getState().widgets);\n          }\n\n          return null;\n        }\n      }, {\n        key: \"getMetadata\",\n        value: function getMetadata(nextWidgetsState) {\n          if (typeof connectorDesc.getMetadata === 'function') {\n            return connectorDesc.getMetadata.call(this, this.props, nextWidgetsState);\n          }\n\n          return {};\n        }\n      }, {\n        key: \"transitionState\",\n        value: function transitionState(prevWidgetsState, nextWidgetsState) {\n          if (typeof connectorDesc.transitionState === 'function') {\n            return connectorDesc.transitionState.call(this, this.props, prevWidgetsState, nextWidgetsState);\n          }\n\n          return nextWidgetsState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this$props = this.props,\n              contextValue = _this$props.contextValue,\n              props = _objectWithoutProperties(_this$props, [\"contextValue\"]);\n\n          var providedProps = this.state.providedProps;\n\n          if (providedProps === null) {\n            return null;\n          }\n\n          var refineProps = typeof connectorDesc.refine === 'function' ? {\n            refine: this.refine,\n            createURL: this.createURL\n          } : {};\n          var searchForFacetValuesProps = typeof connectorDesc.searchForFacetValues === 'function' ? {\n            searchForItems: this.searchForFacetValues\n          } : {};\n          return React.createElement(Composed, _extends({}, props, providedProps, refineProps, searchForFacetValuesProps));\n        }\n      }]);\n\n      return Connector;\n    }(Component);\n\n    _defineProperty(Connector, \"displayName\", \"\".concat(connectorDesc.displayName, \"(\").concat(getDisplayName(Composed), \")\"));\n\n    _defineProperty(Connector, \"propTypes\", connectorDesc.propTypes);\n\n    _defineProperty(Connector, \"defaultProps\", connectorDesc.defaultProps);\n\n    return Connector;\n  };\n}\n\nvar createConnectorWithContext = function createConnectorWithContext(connectorDesc) {\n  return function (Composed) {\n    var Connector = createConnectorWithoutContext(connectorDesc)(Composed);\n\n    var ConnectorWrapper = function ConnectorWrapper(props) {\n      return React.createElement(InstantSearchConsumer, null, function (contextValue) {\n        return React.createElement(IndexConsumer, null, function (indexContextValue) {\n          return React.createElement(Connector, _extends({\n            contextValue: contextValue,\n            indexContextValue: indexContextValue\n          }, props));\n        });\n      });\n    };\n\n    return ConnectorWrapper;\n  };\n};\n\nexport default createConnectorWithContext;","import { getPropertyByPath } from './utils';\nexport var HIGHLIGHT_TAGS = {\n  highlightPreTag: \"<ais-highlight-0000000000>\",\n  highlightPostTag: \"</ais-highlight-0000000000>\"\n};\n/**\n * Parses an highlighted attribute into an array of objects with the string value, and\n * a boolean that indicated if this part is highlighted.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightedValue - highlighted attribute as returned by Algolia highlight feature\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\nfunction parseHighlightedAttribute(_ref) {\n  var preTag = _ref.preTag,\n      postTag = _ref.postTag,\n      _ref$highlightedValue = _ref.highlightedValue,\n      highlightedValue = _ref$highlightedValue === void 0 ? '' : _ref$highlightedValue;\n  var splitByPreTag = highlightedValue.split(preTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = firstValue === '' ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n\n  if (postTag === preTag) {\n    var isHighlighted = true;\n    splitByPreTag.forEach(function (split) {\n      elements.push({\n        value: split,\n        isHighlighted: isHighlighted\n      });\n      isHighlighted = !isHighlighted;\n    });\n  } else {\n    splitByPreTag.forEach(function (split) {\n      var splitByPostTag = split.split(postTag);\n      elements.push({\n        value: splitByPostTag[0],\n        isHighlighted: true\n      });\n\n      if (splitByPostTag[1] !== '') {\n        elements.push({\n          value: splitByPostTag[1],\n          isHighlighted: false\n        });\n      }\n    });\n  }\n\n  return elements;\n}\n/**\n * Find an highlighted attribute given an `attribute` and an `highlightProperty`, parses it,\n * and provided an array of objects with the string value and a boolean if this\n * value is highlighted.\n *\n * In order to use this feature, highlight must be activated in the configuration of\n * the index. The `preTag` and `postTag` attributes are respectively highlightPreTag and\n * highlightPostTag in Algolia configuration.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightProperty - the property that contains the highlight structure in the results\n * @param {string} attribute - the highlighted attribute to look for\n * @param {object} hit - the actual hit returned by Algolia.\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\n\nexport function parseAlgoliaHit(_ref2) {\n  var _ref2$preTag = _ref2.preTag,\n      preTag = _ref2$preTag === void 0 ? '<em>' : _ref2$preTag,\n      _ref2$postTag = _ref2.postTag,\n      postTag = _ref2$postTag === void 0 ? '</em>' : _ref2$postTag,\n      highlightProperty = _ref2.highlightProperty,\n      attribute = _ref2.attribute,\n      hit = _ref2.hit;\n  if (!hit) throw new Error('`hit`, the matching record, must be provided');\n  var highlightObject = getPropertyByPath(hit[highlightProperty], attribute) || {};\n\n  if (Array.isArray(highlightObject)) {\n    return highlightObject.map(function (item) {\n      return parseHighlightedAttribute({\n        preTag: preTag,\n        postTag: postTag,\n        highlightedValue: item.value\n      });\n    });\n  }\n\n  return parseHighlightedAttribute({\n    preTag: preTag,\n    postTag: postTag,\n    highlightedValue: highlightObject.value\n  });\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport createWidgetsManager from './createWidgetsManager';\nimport createStore from './createStore';\nimport { HIGHLIGHT_TAGS } from './highlight';\nimport { hasMultipleIndices } from './indexUtils';\nimport { version as ReactVersion } from 'react';\nimport version from './version';\n\nfunction addAlgoliaAgents(searchClient) {\n  if (typeof searchClient.addAlgoliaAgent === 'function') {\n    searchClient.addAlgoliaAgent(\"react (\".concat(ReactVersion, \")\"));\n    searchClient.addAlgoliaAgent(\"react-instantsearch (\".concat(version, \")\"));\n  }\n}\n\nvar isMultiIndexContext = function isMultiIndexContext(widget) {\n  return hasMultipleIndices({\n    ais: widget.props.contextValue,\n    multiIndexContext: widget.props.indexContextValue\n  });\n};\n\nvar isTargetedIndexEqualIndex = function isTargetedIndexEqualIndex(widget, indexId) {\n  return widget.props.indexContextValue.targetedIndex === indexId;\n}; // Relying on the `indexId` is a bit brittle to detect the `Index` widget.\n// Since it's a class we could rely on `instanceof` or similar. We never\n// had an issue though. Works for now.\n\n\nvar isIndexWidget = function isIndexWidget(widget) {\n  return Boolean(widget.props.indexId);\n};\n\nvar isIndexWidgetEqualIndex = function isIndexWidgetEqualIndex(widget, indexId) {\n  return widget.props.indexId === indexId;\n};\n\nvar sortIndexWidgetsFirst = function sortIndexWidgetsFirst(firstWidget, secondWidget) {\n  var isFirstWidgetIndex = isIndexWidget(firstWidget);\n  var isSecondWidgetIndex = isIndexWidget(secondWidget);\n\n  if (isFirstWidgetIndex && !isSecondWidgetIndex) {\n    return -1;\n  }\n\n  if (!isFirstWidgetIndex && isSecondWidgetIndex) {\n    return 1;\n  }\n\n  return 0;\n}; // This function is copied from the algoliasearch v4 API Client. If modified,\n// consider updating it also in `serializeQueryParameters` from `@algolia/transporter`.\n\n\nfunction serializeQueryParameters(parameters) {\n  var isObjectOrArray = function isObjectOrArray(value) {\n    return Object.prototype.toString.call(value) === '[object Object]' || Object.prototype.toString.call(value) === '[object Array]';\n  };\n\n  var encode = function encode(format) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var i = 0;\n    return format.replace(/%s/g, function () {\n      return encodeURIComponent(args[i++]);\n    });\n  };\n\n  return Object.keys(parameters).map(function (key) {\n    return encode('%s=%s', key, isObjectOrArray(parameters[key]) ? JSON.stringify(parameters[key]) : parameters[key]);\n  }).join('&');\n}\n/**\n * Creates a new instance of the InstantSearchManager which controls the widgets and\n * trigger the search when the widgets are updated.\n * @param {string} indexName - the main index name\n * @param {object} initialState - initial widget state\n * @param {object} SearchParameters - optional additional parameters to send to the algolia API\n * @param {number} stalledSearchDelay - time (in ms) after the search is stalled\n * @return {InstantSearchManager} a new instance of InstantSearchManager\n */\n\n\nexport default function createInstantSearchManager(_ref) {\n  var indexName = _ref.indexName,\n      _ref$initialState = _ref.initialState,\n      initialState = _ref$initialState === void 0 ? {} : _ref$initialState,\n      searchClient = _ref.searchClient,\n      resultsState = _ref.resultsState,\n      stalledSearchDelay = _ref.stalledSearchDelay;\n  var helper = algoliasearchHelper(searchClient, indexName, _objectSpread({}, HIGHLIGHT_TAGS));\n  addAlgoliaAgents(searchClient);\n  helper.on('search', handleNewSearch).on('result', handleSearchSuccess({\n    indexId: indexName\n  })).on('error', handleSearchError);\n  var skip = false;\n  var stalledSearchTimer = null;\n  var initialSearchParameters = helper.state;\n  var widgetsManager = createWidgetsManager(onWidgetsUpdate);\n  hydrateSearchClient(searchClient, resultsState);\n  var store = createStore({\n    widgets: initialState,\n    metadata: [],\n    results: hydrateResultsState(resultsState),\n    error: null,\n    searching: false,\n    isSearchStalled: true,\n    searchingForFacetValues: false\n  });\n\n  function skipSearch() {\n    skip = true;\n  }\n\n  function updateClient(client) {\n    addAlgoliaAgents(client);\n    helper.setClient(client);\n    search();\n  }\n\n  function clearCache() {\n    helper.clearCache();\n    search();\n  }\n\n  function getMetadata(state) {\n    return widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getMetadata);\n    }).map(function (widget) {\n      return widget.getMetadata(state);\n    });\n  }\n\n  function getSearchParameters() {\n    var sharedParameters = widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getSearchParameters);\n    }).filter(function (widget) {\n      return !isMultiIndexContext(widget) && !isIndexWidget(widget);\n    }).reduce(function (res, widget) {\n      return widget.getSearchParameters(res);\n    }, initialSearchParameters);\n    var mainParameters = widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getSearchParameters);\n    }).filter(function (widget) {\n      var targetedIndexEqualMainIndex = isMultiIndexContext(widget) && isTargetedIndexEqualIndex(widget, indexName);\n      var subIndexEqualMainIndex = isIndexWidget(widget) && isIndexWidgetEqualIndex(widget, indexName);\n      return targetedIndexEqualMainIndex || subIndexEqualMainIndex;\n    }) // We have to sort the `Index` widgets first so the `index` parameter\n    // is correctly set in the `reduce` function for the following widgets\n    .sort(sortIndexWidgetsFirst).reduce(function (res, widget) {\n      return widget.getSearchParameters(res);\n    }, sharedParameters);\n    var derivedIndices = widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getSearchParameters);\n    }).filter(function (widget) {\n      var targetedIndexNotEqualMainIndex = isMultiIndexContext(widget) && !isTargetedIndexEqualIndex(widget, indexName);\n      var subIndexNotEqualMainIndex = isIndexWidget(widget) && !isIndexWidgetEqualIndex(widget, indexName);\n      return targetedIndexNotEqualMainIndex || subIndexNotEqualMainIndex;\n    }) // We have to sort the `Index` widgets first so the `index` parameter\n    // is correctly set in the `reduce` function for the following widgets\n    .sort(sortIndexWidgetsFirst).reduce(function (indices, widget) {\n      var indexId = isMultiIndexContext(widget) ? widget.props.indexContextValue.targetedIndex : widget.props.indexId;\n      var widgets = indices[indexId] || [];\n      return _objectSpread({}, indices, _defineProperty({}, indexId, widgets.concat(widget)));\n    }, {});\n    var derivedParameters = Object.keys(derivedIndices).map(function (indexId) {\n      return {\n        parameters: derivedIndices[indexId].reduce(function (res, widget) {\n          return widget.getSearchParameters(res);\n        }, sharedParameters),\n        indexId: indexId\n      };\n    });\n    return {\n      mainParameters: mainParameters,\n      derivedParameters: derivedParameters\n    };\n  }\n\n  function search() {\n    if (!skip) {\n      var _getSearchParameters = getSearchParameters(helper.state),\n          mainParameters = _getSearchParameters.mainParameters,\n          derivedParameters = _getSearchParameters.derivedParameters; // We have to call `slice` because the method `detach` on the derived\n      // helpers mutates the value `derivedHelpers`. The `forEach` loop does\n      // not iterate on each value and we're not able to correctly clear the\n      // previous derived helpers (memory leak + useless requests).\n\n\n      helper.derivedHelpers.slice().forEach(function (derivedHelper) {\n        // Since we detach the derived helpers on **every** new search they\n        // won't receive intermediate results in case of a stalled search.\n        // Only the last result is dispatched by the derived helper because\n        // they are not detached yet:\n        //\n        // - a -> main helper receives results\n        // - ap -> main helper receives results\n        // - app -> main helper + derived helpers receive results\n        //\n        // The quick fix is to avoid to detach them on search but only once they\n        // received the results. But it means that in case of a stalled search\n        // all the derived helpers not detached yet register a new search inside\n        // the helper. The number grows fast in case of a bad network and it's\n        // not deterministic.\n        derivedHelper.detach();\n      });\n      derivedParameters.forEach(function (_ref2) {\n        var indexId = _ref2.indexId,\n            parameters = _ref2.parameters;\n        var derivedHelper = helper.derive(function () {\n          return parameters;\n        });\n        derivedHelper.on('result', handleSearchSuccess({\n          indexId: indexId\n        })).on('error', handleSearchError);\n      });\n      helper.setState(mainParameters);\n      helper.search();\n    }\n  }\n\n  function handleSearchSuccess(_ref3) {\n    var indexId = _ref3.indexId;\n    return function (event) {\n      var state = store.getState();\n      var isDerivedHelpersEmpty = !helper.derivedHelpers.length;\n      var results = state.results ? state.results : {}; // Switching from mono index to multi index and vice versa must reset the\n      // results to an empty object, otherwise we keep reference of stalled and\n      // unused results.\n\n      results = !isDerivedHelpersEmpty && results.getFacetByName ? {} : results;\n\n      if (!isDerivedHelpersEmpty) {\n        results = _objectSpread({}, results, _defineProperty({}, indexId, event.results));\n      } else {\n        results = event.results;\n      }\n\n      var currentState = store.getState();\n      var nextIsSearchStalled = currentState.isSearchStalled;\n\n      if (!helper.hasPendingRequests()) {\n        clearTimeout(stalledSearchTimer);\n        stalledSearchTimer = null;\n        nextIsSearchStalled = false;\n      }\n\n      var resultsFacetValues = currentState.resultsFacetValues,\n          partialState = _objectWithoutProperties(currentState, [\"resultsFacetValues\"]);\n\n      store.setState(_objectSpread({}, partialState, {\n        results: results,\n        isSearchStalled: nextIsSearchStalled,\n        searching: false,\n        error: null\n      }));\n    };\n  }\n\n  function handleSearchError(_ref4) {\n    var error = _ref4.error;\n    var currentState = store.getState();\n    var nextIsSearchStalled = currentState.isSearchStalled;\n\n    if (!helper.hasPendingRequests()) {\n      clearTimeout(stalledSearchTimer);\n      nextIsSearchStalled = false;\n    }\n\n    var resultsFacetValues = currentState.resultsFacetValues,\n        partialState = _objectWithoutProperties(currentState, [\"resultsFacetValues\"]);\n\n    store.setState(_objectSpread({}, partialState, {\n      isSearchStalled: nextIsSearchStalled,\n      error: error,\n      searching: false\n    }));\n  }\n\n  function handleNewSearch() {\n    if (!stalledSearchTimer) {\n      stalledSearchTimer = setTimeout(function () {\n        var _store$getState = store.getState(),\n            resultsFacetValues = _store$getState.resultsFacetValues,\n            partialState = _objectWithoutProperties(_store$getState, [\"resultsFacetValues\"]);\n\n        store.setState(_objectSpread({}, partialState, {\n          isSearchStalled: true\n        }));\n      }, stalledSearchDelay);\n    }\n  }\n\n  function hydrateSearchClient(client, results) {\n    if (!results) {\n      return;\n    } // Disable cache hydration on:\n    // - Algoliasearch API Client < v4 with cache disabled\n    // - Third party clients (detected by the `addAlgoliaAgent` function missing)\n\n\n    if ((!client.transporter || client._cacheHydrated) && (!client._useCache || typeof client.addAlgoliaAgent !== 'function')) {\n      return;\n    } // Algoliasearch API Client >= v4\n    // To hydrate the client we need to populate the cache with the data from\n    // the server (done in `hydrateSearchClientWithMultiIndexRequest` or\n    // `hydrateSearchClientWithSingleIndexRequest`). But since there is no way\n    // for us to compute the key the same way as `algoliasearch-client` we need\n    // to populate it on a custom key and override the `search` method to\n    // search on it first.\n\n\n    if (client.transporter && !client._cacheHydrated) {\n      client._cacheHydrated = true;\n      var baseMethod = client.search;\n\n      client.search = function (requests) {\n        for (var _len2 = arguments.length, methodArgs = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          methodArgs[_key2 - 1] = arguments[_key2];\n        }\n\n        var requestsWithSerializedParams = requests.map(function (request) {\n          return _objectSpread({}, request, {\n            params: serializeQueryParameters(request.params)\n          });\n        });\n        return client.transporter.responsesCache.get({\n          method: 'search',\n          args: [requestsWithSerializedParams].concat(methodArgs)\n        }, function () {\n          return baseMethod.apply(void 0, [requests].concat(methodArgs));\n        });\n      };\n    }\n\n    if (Array.isArray(results)) {\n      hydrateSearchClientWithMultiIndexRequest(client, results);\n      return;\n    }\n\n    hydrateSearchClientWithSingleIndexRequest(client, results);\n  }\n\n  function hydrateSearchClientWithMultiIndexRequest(client, results) {\n    // Algoliasearch API Client >= v4\n    // Populate the cache with the data from the server\n    if (client.transporter) {\n      client.transporter.responsesCache.set({\n        method: 'search',\n        args: [results.reduce(function (acc, result) {\n          return acc.concat(result.rawResults.map(function (request) {\n            return {\n              indexName: request.index,\n              params: request.params\n            };\n          }));\n        }, [])]\n      }, {\n        results: results.reduce(function (acc, result) {\n          return acc.concat(result.rawResults);\n        }, [])\n      });\n      return;\n    } // Algoliasearch API Client < v4\n    // Prior to client v4 we didn't have a proper API to hydrate the client\n    // cache from the outside. The following code populates the cache with\n    // a single-index result. You can find more information about the\n    // computation of the key inside the client (see link below).\n    // https://github.com/algolia/algoliasearch-client-javascript/blob/c27e89ff92b2a854ae6f40dc524bffe0f0cbc169/src/AlgoliaSearchCore.js#L232-L240\n\n\n    var key = \"/1/indexes/*/queries_body_\".concat(JSON.stringify({\n      requests: results.reduce(function (acc, result) {\n        return acc.concat(result.rawResults.map(function (request) {\n          return {\n            indexName: request.index,\n            params: request.params\n          };\n        }));\n      }, [])\n    }));\n    client.cache = _objectSpread({}, client.cache, _defineProperty({}, key, JSON.stringify({\n      results: results.reduce(function (acc, result) {\n        return acc.concat(result.rawResults);\n      }, [])\n    })));\n  }\n\n  function hydrateSearchClientWithSingleIndexRequest(client, results) {\n    // Algoliasearch API Client >= v4\n    // Populate the cache with the data from the server\n    if (client.transporter) {\n      client.transporter.responsesCache.set({\n        method: 'search',\n        args: [results.rawResults.map(function (request) {\n          return {\n            indexName: request.index,\n            params: request.params\n          };\n        })]\n      }, {\n        results: results.rawResults\n      });\n      return;\n    } // Algoliasearch API Client < v4\n    // Prior to client v4 we didn't have a proper API to hydrate the client\n    // cache from the outside. The following code populates the cache with\n    // a single-index result. You can find more information about the\n    // computation of the key inside the client (see link below).\n    // https://github.com/algolia/algoliasearch-client-javascript/blob/c27e89ff92b2a854ae6f40dc524bffe0f0cbc169/src/AlgoliaSearchCore.js#L232-L240\n\n\n    var key = \"/1/indexes/*/queries_body_\".concat(JSON.stringify({\n      requests: results.rawResults.map(function (request) {\n        return {\n          indexName: request.index,\n          params: request.params\n        };\n      })\n    }));\n    client.cache = _objectSpread({}, client.cache, _defineProperty({}, key, JSON.stringify({\n      results: results.rawResults\n    })));\n  }\n\n  function hydrateResultsState(results) {\n    if (!results) {\n      return null;\n    }\n\n    if (Array.isArray(results)) {\n      return results.reduce(function (acc, result) {\n        return _objectSpread({}, acc, _defineProperty({}, result._internalIndexId, new algoliasearchHelper.SearchResults(new algoliasearchHelper.SearchParameters(result.state), result.rawResults)));\n      }, {});\n    }\n\n    return new algoliasearchHelper.SearchResults(new algoliasearchHelper.SearchParameters(results.state), results.rawResults);\n  } // Called whenever a widget has been rendered with new props.\n\n\n  function onWidgetsUpdate() {\n    var metadata = getMetadata(store.getState().widgets);\n    store.setState(_objectSpread({}, store.getState(), {\n      metadata: metadata,\n      searching: true\n    })); // Since the `getSearchParameters` method of widgets also depends on props,\n    // the result search parameters might have changed.\n\n    search();\n  }\n\n  function transitionState(nextSearchState) {\n    var searchState = store.getState().widgets;\n    return widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.transitionState);\n    }).reduce(function (res, widget) {\n      return widget.transitionState(searchState, res);\n    }, nextSearchState);\n  }\n\n  function onExternalStateUpdate(nextSearchState) {\n    var metadata = getMetadata(nextSearchState);\n    store.setState(_objectSpread({}, store.getState(), {\n      widgets: nextSearchState,\n      metadata: metadata,\n      searching: true\n    }));\n    search();\n  }\n\n  function onSearchForFacetValues(_ref5) {\n    var facetName = _ref5.facetName,\n        query = _ref5.query,\n        _ref5$maxFacetHits = _ref5.maxFacetHits,\n        maxFacetHits = _ref5$maxFacetHits === void 0 ? 10 : _ref5$maxFacetHits; // The values 1, 100 are the min / max values that the engine accepts.\n    // see: https://www.algolia.com/doc/api-reference/api-parameters/maxFacetHits\n\n    var maxFacetHitsWithinRange = Math.max(1, Math.min(maxFacetHits, 100));\n    store.setState(_objectSpread({}, store.getState(), {\n      searchingForFacetValues: true\n    }));\n    helper.searchForFacetValues(facetName, query, maxFacetHitsWithinRange).then(function (content) {\n      var _objectSpread7;\n\n      store.setState(_objectSpread({}, store.getState(), {\n        error: null,\n        searchingForFacetValues: false,\n        resultsFacetValues: _objectSpread({}, store.getState().resultsFacetValues, (_objectSpread7 = {}, _defineProperty(_objectSpread7, facetName, content.facetHits), _defineProperty(_objectSpread7, \"query\", query), _objectSpread7))\n      }));\n    }, function (error) {\n      store.setState(_objectSpread({}, store.getState(), {\n        searchingForFacetValues: false,\n        error: error\n      }));\n    }).catch(function (error) {\n      // Since setState is synchronous, any error that occurs in the render of a\n      // component will be swallowed by this promise.\n      // This is a trick to make the error show up correctly in the console.\n      // See http://stackoverflow.com/a/30741722/969302\n      setTimeout(function () {\n        throw error;\n      });\n    });\n  }\n\n  function updateIndex(newIndex) {\n    initialSearchParameters = initialSearchParameters.setIndex(newIndex); // No need to trigger a new search here as the widgets will also update and trigger it if needed.\n  }\n\n  function getWidgetsIds() {\n    return store.getState().metadata.reduce(function (res, meta) {\n      return typeof meta.id !== 'undefined' ? res.concat(meta.id) : res;\n    }, []);\n  }\n\n  return {\n    store: store,\n    widgetsManager: widgetsManager,\n    getWidgetsIds: getWidgetsIds,\n    getSearchParameters: getSearchParameters,\n    onSearchForFacetValues: onSearchForFacetValues,\n    onExternalStateUpdate: onExternalStateUpdate,\n    transitionState: transitionState,\n    updateClient: updateClient,\n    updateIndex: updateIndex,\n    clearCache: clearCache,\n    skipSearch: skipSearch\n  };\n}","export default '6.7.0';","import { defer } from './utils';\nexport default function createWidgetsManager(onWidgetsUpdate) {\n  var widgets = []; // Is an update scheduled?\n\n  var scheduled = false; // The state manager's updates need to be batched since more than one\n  // component can register or unregister widgets during the same tick.\n\n  function scheduleUpdate() {\n    if (scheduled) {\n      return;\n    }\n\n    scheduled = true;\n    defer(function () {\n      scheduled = false;\n      onWidgetsUpdate();\n    });\n  }\n\n  return {\n    registerWidget: function registerWidget(widget) {\n      widgets.push(widget);\n      scheduleUpdate();\n      return function unregisterWidget() {\n        widgets.splice(widgets.indexOf(widget), 1);\n        scheduleUpdate();\n      };\n    },\n    update: scheduleUpdate,\n    getWidgets: function getWidgets() {\n      return widgets;\n    }\n  };\n}","export default function createStore(initialState) {\n  var state = initialState;\n  var listeners = [];\n  return {\n    getState: function getState() {\n      return state;\n    },\n    setState: function setState(nextState) {\n      state = nextState;\n      listeners.forEach(function (listener) {\n        return listener();\n      });\n    },\n    subscribe: function subscribe(listener) {\n      listeners.push(listener);\n      return function unsubscribe() {\n        listeners.splice(listeners.indexOf(listener), 1);\n      };\n    }\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Component, Children } from 'react';\nimport isEqual from 'react-fast-compare';\nimport PropTypes from 'prop-types';\nimport createInstantSearchManager from '../core/createInstantSearchManager';\nimport { InstantSearchProvider } from '../core/context';\n\nfunction isControlled(props) {\n  return Boolean(props.searchState);\n}\n/**\n * @description\n * `<InstantSearch>` is the root component of all React InstantSearch implementations.\n * It provides all the connected components (aka widgets) a means to interact\n * with the searchState.\n * @kind widget\n * @name <InstantSearch>\n * @requirements You will need to have an Algolia account to be able to use this widget.\n * [Create one now](https://www.algolia.com/users/sign_up).\n * @propType {string} indexName - Main index in which to search.\n * @propType {boolean} [refresh=false] - Flag to activate when the cache needs to be cleared so that the front-end is updated when a change occurs in the index.\n * @propType {object} [searchClient] - Provide a custom search client.\n * @propType {func} [onSearchStateChange] - Function to be called everytime a new search is done. Useful for [URL Routing](guide/Routing.html).\n * @propType {object} [searchState] - Object to inject some search state. Switches the InstantSearch component in controlled mode. Useful for [URL Routing](guide/Routing.html).\n * @propType {func} [createURL] - Function to call when creating links, useful for [URL Routing](guide/Routing.html).\n * @propType {SearchResults|SearchResults[]} [resultsState] - Use this to inject the results that will be used at first rendering. Those results are found by using the `findResultsState` function. Useful for [Server Side Rendering](guide/Server-side_rendering.html).\n * @propType {number} [stalledSearchDelay=200] - The amount of time before considering that the search takes too much time. The time is expressed in milliseconds.\n * @propType {{ Root: string|function, props: object }} [root] - Use this to customize the root element. Default value: `{ Root: 'div' }`\n * @example\n * import React from 'react';\n * import algoliasearch from 'algoliasearch/lite';\n * import { InstantSearch, SearchBox, Hits } from 'react-instantsearch-dom';\n *\n * const searchClient = algoliasearch(\n *   'latency',\n *   '6be0576ff61c053d5f9a3225e2a90f76'\n * );\n *\n * const App = () => (\n *   <InstantSearch\n *     searchClient={searchClient}\n *     indexName=\"instant_search\"\n *   >\n *     <SearchBox />\n *     <Hits />\n *   </InstantSearch>\n * );\n */\n\n\nvar InstantSearch = /*#__PURE__*/function (_Component) {\n  _inherits(InstantSearch, _Component);\n\n  _createClass(InstantSearch, null, [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var nextIsControlled = isControlled(nextProps);\n      var previousSearchState = prevState.instantSearchManager.store.getState().widgets;\n      var nextSearchState = nextProps.searchState;\n\n      if (nextIsControlled && !isEqual(previousSearchState, nextSearchState)) {\n        prevState.instantSearchManager.onExternalStateUpdate(nextProps.searchState);\n      }\n\n      return {\n        isControlled: nextIsControlled,\n        contextValue: _objectSpread({}, prevState.contextValue, {\n          mainTargetedIndex: nextProps.indexName\n        })\n      };\n    }\n  }]);\n\n  function InstantSearch(props) {\n    var _this;\n\n    _classCallCheck(this, InstantSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InstantSearch).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"isUnmounting\", false);\n\n    var instantSearchManager = createInstantSearchManager({\n      indexName: _this.props.indexName,\n      searchClient: _this.props.searchClient,\n      initialState: _this.props.searchState || {},\n      resultsState: _this.props.resultsState,\n      stalledSearchDelay: _this.props.stalledSearchDelay\n    });\n    var contextValue = {\n      store: instantSearchManager.store,\n      widgetsManager: instantSearchManager.widgetsManager,\n      mainTargetedIndex: _this.props.indexName,\n      onInternalStateUpdate: _this.onWidgetsInternalStateUpdate.bind(_assertThisInitialized(_this)),\n      createHrefForState: _this.createHrefForState.bind(_assertThisInitialized(_this)),\n      onSearchForFacetValues: _this.onSearchForFacetValues.bind(_assertThisInitialized(_this)),\n      onSearchStateChange: _this.onSearchStateChange.bind(_assertThisInitialized(_this)),\n      onSearchParameters: _this.onSearchParameters.bind(_assertThisInitialized(_this))\n    };\n    _this.state = {\n      isControlled: isControlled(_this.props),\n      instantSearchManager: instantSearchManager,\n      contextValue: contextValue\n    };\n    return _this;\n  }\n\n  _createClass(InstantSearch, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevIsControlled = isControlled(prevProps);\n\n      if (prevIsControlled && !this.state.isControlled) {\n        throw new Error(\"You can't switch <InstantSearch> from being controlled to uncontrolled\");\n      }\n\n      if (!prevIsControlled && this.state.isControlled) {\n        throw new Error(\"You can't switch <InstantSearch> from being uncontrolled to controlled\");\n      }\n\n      if (this.props.refresh !== prevProps.refresh && this.props.refresh) {\n        this.state.instantSearchManager.clearCache();\n      }\n\n      if (prevProps.indexName !== this.props.indexName) {\n        this.state.instantSearchManager.updateIndex(this.props.indexName);\n      }\n\n      if (prevProps.searchClient !== this.props.searchClient) {\n        this.state.instantSearchManager.updateClient(this.props.searchClient);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.isUnmounting = true;\n      this.state.instantSearchManager.skipSearch();\n    }\n  }, {\n    key: \"createHrefForState\",\n    value: function createHrefForState(searchState) {\n      searchState = this.state.instantSearchManager.transitionState(searchState);\n      return this.state.isControlled && this.props.createURL ? this.props.createURL(searchState, this.getKnownKeys()) : '#';\n    }\n  }, {\n    key: \"onWidgetsInternalStateUpdate\",\n    value: function onWidgetsInternalStateUpdate(searchState) {\n      searchState = this.state.instantSearchManager.transitionState(searchState);\n      this.onSearchStateChange(searchState);\n\n      if (!this.state.isControlled) {\n        this.state.instantSearchManager.onExternalStateUpdate(searchState);\n      }\n    }\n  }, {\n    key: \"onSearchStateChange\",\n    value: function onSearchStateChange(searchState) {\n      if (this.props.onSearchStateChange && !this.isUnmounting) {\n        this.props.onSearchStateChange(searchState);\n      }\n    }\n  }, {\n    key: \"onSearchParameters\",\n    value: function onSearchParameters(getSearchParameters, context, props) {\n      if (this.props.onSearchParameters) {\n        var _searchState = this.props.searchState ? this.props.searchState : {};\n\n        this.props.onSearchParameters(getSearchParameters, context, props, _searchState);\n      }\n    }\n  }, {\n    key: \"onSearchForFacetValues\",\n    value: function onSearchForFacetValues(searchState) {\n      this.state.instantSearchManager.onSearchForFacetValues(searchState);\n    }\n  }, {\n    key: \"getKnownKeys\",\n    value: function getKnownKeys() {\n      return this.state.instantSearchManager.getWidgetsIds();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return React.createElement(InstantSearchProvider, {\n        value: this.state.contextValue\n      }, this.props.children);\n    }\n  }]);\n\n  return InstantSearch;\n}(Component);\n\n_defineProperty(InstantSearch, \"defaultProps\", {\n  stalledSearchDelay: 200,\n  refresh: false\n});\n\n_defineProperty(InstantSearch, \"propTypes\", {\n  // @TODO: These props are currently constant.\n  indexName: PropTypes.string.isRequired,\n  searchClient: PropTypes.shape({\n    search: PropTypes.func.isRequired,\n    searchForFacetValues: PropTypes.func,\n    addAlgoliaAgent: PropTypes.func,\n    clearCache: PropTypes.func\n  }).isRequired,\n  createURL: PropTypes.func,\n  refresh: PropTypes.bool,\n  searchState: PropTypes.object,\n  onSearchStateChange: PropTypes.func,\n  onSearchParameters: PropTypes.func,\n  resultsState: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  children: PropTypes.node,\n  stalledSearchDelay: PropTypes.number\n});\n\nexport default InstantSearch;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @flow\n */\n\nimport React from 'react';\nimport ExternalFooterLink from './ExternalFooterLink';\nimport FooterLink from './FooterLink';\n\ntype Link = {|\n  title: string,\n  to: string,\n|};\n\ntype Props = {|\n  links: Array<Link>,\n|};\n\nconst SectionLinks = ({links}: Props) =>\n  links.map(item => {\n    if (item.external) {\n      return (\n        <ExternalFooterLink\n          key={item.title}\n          href={item.to}\n          target=\"_blank\"\n          rel=\"noopener\">\n          {item.title}\n        </ExternalFooterLink>\n      );\n    }\n\n    return (\n        <FooterLink key={item.title} to={item.to}>\n          {item.title}\n        </FooterLink>\n    );\n  });\n\nexport default SectionLinks;\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;","exports.__esModule = true;\nexports.Helmet = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require(\"react-side-effect\");\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _reactFastCompare = require(\"react-fast-compare\");\n\nvar _reactFastCompare2 = _interopRequireDefault(_reactFastCompare);\n\nvar _HelmetUtils = require(\"./HelmetUtils.js\");\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    _inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      _classCallCheck(this, HelmetWrapper);\n\n      return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !(0, _reactFastCompare2.default)(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case _HelmetConstants.TAG_NAMES.SCRIPT:\n        case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case _HelmetConstants.TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _extends2;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_extends2 = {}, _extends2[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _extends2));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _extends3, _extends4;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case _HelmetConstants.TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_extends3 = {}, _extends3[child.type] = nestedChildren, _extends3.titleAttributes = _extends({}, newChildProps), _extends3));\n\n        case _HelmetConstants.TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case _HelmetConstants.TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_extends4 = {}, _extends4[child.type] = _extends({}, newChildProps), _extends4));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _extends5;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_extends5 = {}, _extends5[arrayChildName] = arrayTypeChildren[arrayChildName], _extends5));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!_HelmetConstants.VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return (0, _HelmetUtils.warn)(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return (0, _HelmetUtils.warn)(\"Only elements types \" + _HelmetConstants.VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n\n      _react2.default.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = _objectWithoutProperties(_child$props, [\"children\"]);\n\n        var newChildProps = (0, _HelmetUtils.convertReactPropstoHtmlAttributes)(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case _HelmetConstants.TAG_NAMES.LINK:\n          case _HelmetConstants.TAG_NAMES.META:\n          case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n          case _HelmetConstants.TAG_NAMES.SCRIPT:\n          case _HelmetConstants.TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = _objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return _react2.default.createElement(Component, newProps);\n    };\n\n    _createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Dont use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n\n    return HelmetWrapper;\n  }(_react2.default.Component), _class.propTypes = {\n    base: _propTypes2.default.object,\n    bodyAttributes: _propTypes2.default.object,\n    children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node), _propTypes2.default.node]),\n    defaultTitle: _propTypes2.default.string,\n    defer: _propTypes2.default.bool,\n    encodeSpecialCharacters: _propTypes2.default.bool,\n    htmlAttributes: _propTypes2.default.object,\n    link: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    meta: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    noscript: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    onChangeClientState: _propTypes2.default.func,\n    script: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    style: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    title: _propTypes2.default.string,\n    titleAttributes: _propTypes2.default.object,\n    titleTemplate: _propTypes2.default.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = (0, _HelmetUtils.mapStateOnServer)({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = (0, _reactSideEffect2.default)(_HelmetUtils.reducePropsToState, _HelmetUtils.handleClientStateChange, _HelmetUtils.mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexports.Helmet = HelmetExport;\nexports.default = HelmetExport;","'use strict';\n\nvar merge = require('../functions/merge');\n\nvar defaultsPure = require('../functions/defaultsPure');\n\nvar intersection = require('../functions/intersection');\n\nvar find = require('../functions/find');\n\nvar valToNumber = require('../functions/valToNumber');\n\nvar omit = require('../functions/omit');\n\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar RefinementList = require('./RefinementList');\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\n\n\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every(function (el, i) {\n      return isEqualNumericRefinement(b[i], el);\n    });\n  }\n\n  return a === b;\n}\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\n\n\nfunction findArray(array, searchedValue) {\n  return find(array, function (currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\n\n\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n\n  this.hierarchicalFacets = params.hierarchicalFacets || []; // Refinements\n\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n  var self = this;\n  Object.keys(params).forEach(function (paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\n\n\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\n\nSearchParameters._parseNumbers = function (partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n  var numbers = {};\n  var numberKeys = ['aroundPrecision', 'aroundRadius', 'getRankingInfo', 'minWordSizefor2Typos', 'minWordSizefor1Typo', 'page', 'maxValuesPerFacet', 'distinct', 'minimumAroundRadius', 'hitsPerPage', 'minProximity'];\n  numberKeys.forEach(function (k) {\n    var value = partialState[k];\n\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value); // global isNaN is ok to use here, value is only number or NaN\n\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  }); // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function (geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function (value) {\n          return parseFloat(value);\n        });\n      }\n\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function (attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function (operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function (v) {\n          if (Array.isArray(v)) {\n            return v.map(function (vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\n\n\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function (facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      } // get it again in case it has been cleared\n\n\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n  return instance;\n};\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\n\n\nSearchParameters.validate = function (currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error('[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' + 'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error('[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' + 'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.numericFilters && params.numericRefinements && objectHasKeys(params.numericRefinements)) {\n    return new Error(\"[Numeric filters] Can't switch from the advanced to the managed API. It\" + ' is probably an error, if this is really what you want, you have to first' + ' clear the numeric filters.');\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\"[Numeric filters] Can't switch from the managed API to the advanced. It\" + ' is probably an error, if this is really what you want, you have to first' + ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(this.facetsRefinements, attribute, 'conjunctiveFacet'),\n      facetsExcludes: RefinementList.clearRefinement(this.facetsExcludes, attribute, 'exclude'),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(this.disjunctiveFacetsRefinements, attribute, 'disjunctiveFacet'),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(this.hierarchicalFacetsRefinements, attribute, 'hierarchicalFacet')\n    };\n\n    if (patch.numericRefinements === this.numericRefinements && patch.facetsRefinements === this.facetsRefinements && patch.facetsExcludes === this.facetsExcludes && patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements && patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements) {\n      return this;\n    }\n\n    return this.setQueryParameters(patch);\n  },\n\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function addNumericRefinement(attribute, operator, v) {\n    var value = valToNumber(v);\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n    var mod = merge({}, this.numericRefinements);\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice(); // Add the element. Concat can't be used here because value can be an array.\n\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function getConjunctiveRefinements(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n\n    return this.facetsRefinements[facetName] || [];\n  },\n\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function getDisjunctiveRefinements(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function getHierarchicalRefinement(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function getExcludeRefinements(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function removeNumericRefinement(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function (value, key) {\n          return key === attribute && value.op === operator && isEqualNumericRefinement(value.val, valToNumber(paramValue));\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function (value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function (value, key) {\n        return key === attribute;\n      })\n    });\n  },\n\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList[]} list of refinements\n   */\n  getNumericRefinements: function getNumericRefinements(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function getNumericRefinement(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n\n      return {};\n    } else if (typeof attribute === 'string') {\n      if (!objectHasKeys(this.numericRefinements[attribute])) {\n        return this.numericRefinements;\n      }\n\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function (memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n        operators = operators || {};\n        Object.keys(operators).forEach(function (operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function (value) {\n            var predicateResult = attribute({\n              val: value,\n              op: operator\n            }, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n\n          operatorList[operator] = outValues;\n        });\n        memo[key] = operatorList;\n        return memo;\n      }, {});\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error('Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n    return this.setQueryParameters(modification);\n  },\n\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function (f) {\n        return f !== facet;\n      })\n    });\n  },\n\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function (f) {\n        return f !== facet;\n      })\n    });\n  },\n\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function (f) {\n        return f.name !== facet;\n      })\n    });\n  },\n\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function (t) {\n        return t !== tag;\n      })\n    };\n    return this.setQueryParameters(modification);\n  },\n\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet + '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined && this.hierarchicalFacetsRefinements[facet].length > 0 && ( // remove current refinement:\n    // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n    this.hierarchicalFacetsRefinements[facet][0] === value || // remove a parent refinement of the current refinement:\n    //  - refinement was 'beer > IPA > Flying dog'\n    //  - call is toggleRefine('beer > IPA')\n    //  - refinement should be `beer`\n    this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0);\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function addHierarchicalFacetRefinement(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function removeHierarchicalFacetRefinement(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function isDisjunctiveFacet(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function isHierarchicalFacet(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function isConjunctiveFacet(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined = this.numericRefinements[attribute] && this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined = findArray(this.numericRefinements[attribute][operator], parsedValue) !== undefined;\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this; // attributes used for numeric filter can also be disjunctive\n\n    var disjunctiveNumericRefinedFacets = intersection(Object.keys(this.numericRefinements).filter(function (facet) {\n      return Object.keys(self.numericRefinements[facet]).length > 0;\n    }), this.disjunctiveFacets);\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function (facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    }).concat(disjunctiveNumericRefinedFacets).concat(this.getRefinedHierarchicalFacets());\n  },\n\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection( // enforce the order between the two arrays,\n    // so that refinement name index === hierarchical facet index\n    this.hierarchicalFacets.map(function (facet) {\n      return facet.name;\n    }), Object.keys(this.hierarchicalFacetsRefinements).filter(function (facet) {\n      return self.hierarchicalFacetsRefinements[facet].length > 0;\n    }));\n  },\n\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function getUnrefinedDisjunctiveFacets() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n    return this.disjunctiveFacets.filter(function (f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n  managedParameters: ['index', 'facets', 'disjunctiveFacets', 'facetsRefinements', 'facetsExcludes', 'disjunctiveFacetsRefinements', 'numericRefinements', 'tagRefinements', 'hierarchicalFacets', 'hierarchicalFacetsRefinements'],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n    var queryParams = {};\n    var self = this;\n    Object.keys(this).forEach(function (paramName) {\n      var paramValue = self[paramName];\n\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n    return queryParams;\n  },\n\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n    var modification = {};\n    modification[parameter] = value;\n    return this.setQueryParameters(modification);\n  },\n\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n\n    var previousPlainObject = Object.keys(this).reduce(function (acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(function (previous, key) {\n      var isPreviousValueDefined = previous[key] !== undefined;\n      var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n      if (isPreviousValueDefined && !isNextValueDefined) {\n        return omit(previous, [key]);\n      }\n\n      if (isNextValueDefined) {\n        previous[key] = nextWithNumbers[key];\n      }\n\n      return previous;\n    }, previousPlainObject);\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function resetPage() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function _getHierarchicalFacetSortBy(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function _getHierarchicalFacetSeparator(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function _getHierarchicalRootPath(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function _getHierarchicalShowParentLevel(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function getHierarchicalFacetByName(hierarchicalFacetName) {\n    return find(this.hierarchicalFacets, function (f) {\n      return f.name === hierarchicalFacetName;\n    });\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function getHierarchicalFacetBreadcrumb(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facetName));\n\n    var path = refinement.split(separator);\n    return path.map(function (part) {\n      return part.trim();\n    });\n  },\n  toString: function toString() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\n\nmodule.exports = SearchParameters;","module.exports = [{\"name\":\"English\",\"translated_name\":\"English\",\"code\":\"en\",\"status\":2},{\"name\":\"Arabic\",\"translated_name\":\"\",\"code\":\"ar\",\"status\":2},{\"name\":\"Azerbaijani\",\"translated_name\":\"Azrbaycanca\",\"code\":\"az\",\"status\":2},{\"name\":\"Bulgarian\",\"translated_name\":\"\",\"code\":\"bg\",\"status\":1},{\"name\":\"Bengali\",\"translated_name\":\"\",\"code\":\"bn\",\"status\":1},{\"name\":\"Catalan\",\"translated_name\":\"Catal\",\"code\":\"ca\",\"status\":1},{\"name\":\"German\",\"translated_name\":\"Deutsch\",\"code\":\"de\",\"status\":1},{\"name\":\"Greek\",\"translated_name\":\"\",\"code\":\"el\",\"status\":1},{\"name\":\"Spanish\",\"translated_name\":\"Espaol\",\"code\":\"es\",\"status\":2},{\"name\":\"Persian\",\"translated_name\":\"\",\"code\":\"fa\",\"status\":1},{\"name\":\"French\",\"translated_name\":\"Franais\",\"code\":\"fr\",\"status\":2},{\"name\":\"Gujarati\",\"translated_name\":\"\",\"code\":\"gu\",\"status\":0},{\"name\":\"Hebrew\",\"translated_name\":\"\",\"code\":\"he\",\"status\":1},{\"name\":\"Hindi\",\"translated_name\":\"\",\"code\":\"hi\",\"status\":0},{\"name\":\"Haitian Creole\",\"translated_name\":\"Kreyl ayisyen\",\"code\":\"ht\",\"status\":0},{\"name\":\"Hungarian\",\"translated_name\":\"magyar\",\"code\":\"hu\",\"status\":2},{\"name\":\"Armenian\",\"translated_name\":\"\",\"code\":\"hy\",\"status\":0},{\"name\":\"Indonesian\",\"translated_name\":\"Bahasa Indonesia\",\"code\":\"id\",\"status\":1},{\"name\":\"Italian\",\"translated_name\":\"Italiano\",\"code\":\"it\",\"status\":2},{\"name\":\"Japanese\",\"translated_name\":\"\",\"code\":\"ja\",\"status\":2},{\"name\":\"Georgian\",\"translated_name\":\"\",\"code\":\"ka\",\"status\":0},{\"name\":\"Central Khmer\",\"translated_name\":\"\",\"code\":\"km\",\"status\":0},{\"name\":\"Kannada\",\"translated_name\":\"\",\"code\":\"kn\",\"status\":0},{\"name\":\"Korean\",\"translated_name\":\"\",\"code\":\"ko\",\"status\":2},{\"name\":\"Kurdish\",\"translated_name\":\"\",\"code\":\"ku\",\"status\":0},{\"name\":\"Lithuanian\",\"translated_name\":\"Lietuvi kalba\",\"code\":\"lt\",\"status\":0},{\"name\":\"Malayalam\",\"translated_name\":\"\",\"code\":\"ml\",\"status\":0},{\"name\":\"Mongolian\",\"translated_name\":\" \",\"code\":\"mn\",\"status\":2},{\"name\":\"Nepali\",\"translated_name\":\"\",\"code\":\"ne\",\"status\":0},{\"name\":\"Dutch\",\"translated_name\":\"Nederlands\",\"code\":\"nl\",\"status\":0},{\"name\":\"Polish\",\"translated_name\":\"Polski\",\"code\":\"pl\",\"status\":2},{\"name\":\"Portuguese (Brazil)\",\"translated_name\":\"Portugus do Brasil\",\"code\":\"pt-br\",\"status\":2},{\"name\":\"Portuguese (Portugal)\",\"translated_name\":\"Portugus europeu\",\"code\":\"pt-pt\",\"status\":0},{\"name\":\"Romanian\",\"translated_name\":\"Romn\",\"code\":\"ro\",\"status\":0},{\"name\":\"Russian\",\"translated_name\":\"\",\"code\":\"ru\",\"status\":2},{\"name\":\"Sinhala\",\"translated_name\":\"\",\"code\":\"si\",\"status\":0},{\"name\":\"Swedish\",\"translated_name\":\"Svenska\",\"code\":\"sv\",\"status\":0},{\"name\":\"Tamil\",\"translated_name\":\"\",\"code\":\"ta\",\"status\":0},{\"name\":\"Telugu\",\"translated_name\":\"\",\"code\":\"te\",\"status\":0},{\"name\":\"Thai\",\"translated_name\":\"\",\"code\":\"th\",\"status\":0},{\"name\":\"Tagalog\",\"translated_name\":\"Wikang Tagalog\",\"code\":\"tl\",\"status\":0},{\"name\":\"Turkish\",\"translated_name\":\"Trke\",\"code\":\"tr\",\"status\":2},{\"name\":\"Ukrainian\",\"translated_name\":\"\",\"code\":\"uk\",\"status\":2},{\"name\":\"Urdu\",\"translated_name\":\"\",\"code\":\"ur\",\"status\":0},{\"name\":\"Uzbek\",\"translated_name\":\"Ozbekcha\",\"code\":\"uz\",\"status\":0},{\"name\":\"Vietnamese\",\"translated_name\":\"Ting Vit\",\"code\":\"vi\",\"status\":1},{\"name\":\"Simplified Chinese\",\"translated_name\":\"\",\"code\":\"zh-hans\",\"status\":2},{\"name\":\"Traditional Chinese\",\"translated_name\":\"\",\"code\":\"zh-hant\",\"status\":2}]","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function (value, index) {\n    return arr2.indexOf(value) > -1 && arr1.indexOf(value) === index\n    /* skips duplicates */\n    ;\n  });\n}\n\nmodule.exports = intersection;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport { omit } from './utils';\nexport function getIndexId(context) {\n  return hasMultipleIndices(context) ? context.multiIndexContext.targetedIndex : context.ais.mainTargetedIndex;\n}\nexport function getResults(searchResults, context) {\n  if (searchResults.results) {\n    if (searchResults.results.hits) {\n      return searchResults.results;\n    }\n\n    var indexId = getIndexId(context);\n\n    if (searchResults.results[indexId]) {\n      return searchResults.results[indexId];\n    }\n  }\n\n  return null;\n}\nexport function hasMultipleIndices(context) {\n  return context && context.multiIndexContext;\n} // eslint-disable-next-line max-params\n\nexport function refineValue(searchState, nextRefinement, context, resetPage, namespace) {\n  if (hasMultipleIndices(context)) {\n    var indexId = getIndexId(context);\n    return namespace ? refineMultiIndexWithNamespace(searchState, nextRefinement, indexId, resetPage, namespace) : refineMultiIndex(searchState, nextRefinement, indexId, resetPage);\n  } else {\n    // When we have a multi index page with shared widgets we should also\n    // reset their page to 1 if the resetPage is provided. Otherwise the\n    // indices will always be reset\n    // see: https://github.com/algolia/react-instantsearch/issues/310\n    // see: https://github.com/algolia/react-instantsearch/issues/637\n    if (searchState.indices && resetPage) {\n      Object.keys(searchState.indices).forEach(function (targetedIndex) {\n        searchState = refineValue(searchState, {\n          page: 1\n        }, {\n          multiIndexContext: {\n            targetedIndex: targetedIndex\n          }\n        }, true, namespace);\n      });\n    }\n\n    return namespace ? refineSingleIndexWithNamespace(searchState, nextRefinement, resetPage, namespace) : refineSingleIndex(searchState, nextRefinement, resetPage);\n  }\n}\n\nfunction refineMultiIndex(searchState, nextRefinement, indexId, resetPage) {\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  var state = searchState.indices && searchState.indices[indexId] ? _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, searchState.indices[indexId], nextRefinement, page))) : _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, nextRefinement, page)));\n  return _objectSpread({}, searchState, {\n    indices: state\n  });\n}\n\nfunction refineSingleIndex(searchState, nextRefinement, resetPage) {\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  return _objectSpread({}, searchState, nextRefinement, page);\n} // eslint-disable-next-line max-params\n\n\nfunction refineMultiIndexWithNamespace(searchState, nextRefinement, indexId, resetPage, namespace) {\n  var _objectSpread4;\n\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  var state = searchState.indices && searchState.indices[indexId] ? _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, searchState.indices[indexId], (_objectSpread4 = {}, _defineProperty(_objectSpread4, namespace, _objectSpread({}, searchState.indices[indexId][namespace], nextRefinement)), _defineProperty(_objectSpread4, \"page\", 1), _objectSpread4)))) : _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread(_defineProperty({}, namespace, nextRefinement), page)));\n  return _objectSpread({}, searchState, {\n    indices: state\n  });\n}\n\nfunction refineSingleIndexWithNamespace(searchState, nextRefinement, resetPage, namespace) {\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  return _objectSpread({}, searchState, _defineProperty({}, namespace, _objectSpread({}, searchState[namespace], nextRefinement)), page);\n}\n\nfunction getNamespaceAndAttributeName(id) {\n  var parts = id.match(/^([^.]*)\\.(.*)/);\n  var namespace = parts && parts[1];\n  var attributeName = parts && parts[2];\n  return {\n    namespace: namespace,\n    attributeName: attributeName\n  };\n}\n\nfunction hasRefinements(_ref) {\n  var multiIndex = _ref.multiIndex,\n      indexId = _ref.indexId,\n      namespace = _ref.namespace,\n      attributeName = _ref.attributeName,\n      id = _ref.id,\n      searchState = _ref.searchState;\n\n  if (multiIndex && namespace) {\n    return searchState.indices && searchState.indices[indexId] && searchState.indices[indexId][namespace] && Object.hasOwnProperty.call(searchState.indices[indexId][namespace], attributeName);\n  }\n\n  if (multiIndex) {\n    return searchState.indices && searchState.indices[indexId] && Object.hasOwnProperty.call(searchState.indices[indexId], id);\n  }\n\n  if (namespace) {\n    return searchState[namespace] && Object.hasOwnProperty.call(searchState[namespace], attributeName);\n  }\n\n  return Object.hasOwnProperty.call(searchState, id);\n}\n\nfunction getRefinements(_ref2) {\n  var multiIndex = _ref2.multiIndex,\n      indexId = _ref2.indexId,\n      namespace = _ref2.namespace,\n      attributeName = _ref2.attributeName,\n      id = _ref2.id,\n      searchState = _ref2.searchState;\n\n  if (multiIndex && namespace) {\n    return searchState.indices[indexId][namespace][attributeName];\n  }\n\n  if (multiIndex) {\n    return searchState.indices[indexId][id];\n  }\n\n  if (namespace) {\n    return searchState[namespace][attributeName];\n  }\n\n  return searchState[id];\n}\n\nexport function getCurrentRefinementValue(props, searchState, context, id, defaultValue) {\n  var indexId = getIndexId(context);\n\n  var _getNamespaceAndAttri = getNamespaceAndAttributeName(id),\n      namespace = _getNamespaceAndAttri.namespace,\n      attributeName = _getNamespaceAndAttri.attributeName;\n\n  var multiIndex = hasMultipleIndices(context);\n  var args = {\n    multiIndex: multiIndex,\n    indexId: indexId,\n    namespace: namespace,\n    attributeName: attributeName,\n    id: id,\n    searchState: searchState\n  };\n  var hasRefinementsValue = hasRefinements(args);\n\n  if (hasRefinementsValue) {\n    return getRefinements(args);\n  }\n\n  if (props.defaultRefinement) {\n    return props.defaultRefinement;\n  }\n\n  return defaultValue;\n}\nexport function cleanUpValue(searchState, context, id) {\n  var indexId = getIndexId(context);\n\n  var _getNamespaceAndAttri2 = getNamespaceAndAttributeName(id),\n      namespace = _getNamespaceAndAttri2.namespace,\n      attributeName = _getNamespaceAndAttri2.attributeName;\n\n  if (hasMultipleIndices(context) && Boolean(searchState.indices)) {\n    return cleanUpValueWithMultiIndex({\n      attribute: attributeName,\n      searchState: searchState,\n      indexId: indexId,\n      id: id,\n      namespace: namespace\n    });\n  }\n\n  return cleanUpValueWithSingleIndex({\n    attribute: attributeName,\n    searchState: searchState,\n    id: id,\n    namespace: namespace\n  });\n}\n\nfunction cleanUpValueWithSingleIndex(_ref3) {\n  var searchState = _ref3.searchState,\n      id = _ref3.id,\n      namespace = _ref3.namespace,\n      attribute = _ref3.attribute;\n\n  if (namespace) {\n    return _objectSpread({}, searchState, _defineProperty({}, namespace, omit(searchState[namespace], [attribute])));\n  }\n\n  return omit(searchState, [id]);\n}\n\nfunction cleanUpValueWithMultiIndex(_ref4) {\n  var searchState = _ref4.searchState,\n      indexId = _ref4.indexId,\n      id = _ref4.id,\n      namespace = _ref4.namespace,\n      attribute = _ref4.attribute;\n  var indexSearchState = searchState.indices[indexId];\n\n  if (namespace && indexSearchState) {\n    return _objectSpread({}, searchState, {\n      indices: _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, indexSearchState, _defineProperty({}, namespace, omit(indexSearchState[namespace], [attribute])))))\n    });\n  }\n\n  if (indexSearchState) {\n    return _objectSpread({}, searchState, {\n      indices: _objectSpread({}, searchState.indices, _defineProperty({}, indexId, omit(indexSearchState, [id])))\n    });\n  }\n\n  return searchState;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport Container from 'components/Container';\n// import ExternalFooterLink from './ExternalFooterLink';\n// import FooterLink from './FooterLink';\nimport FooterNav from './FooterNav';\n// import MetaTitle from 'templates/components/MetaTitle';\nimport SectionLinks from './SectionLinks';\nimport React from 'react';\nimport {colors, media} from 'theme';\n// import {sectionListCommunity, sectionListDocs} from 'utils/sectionList';\n\n// $FlowFixMe\nimport navFooter from '../../../content/footerNav.yml';\n\n// import ossLogoPng from 'images/oss_logo.png';\n\nconst Footer = ({layoutHasSidebar = false}: {layoutHasSidebar: boolean}) => {\n  return (\n  <footer\n    css={{\n      backgroundColor: colors.darker,\n      color: colors.white,\n      paddingTop: 10,\n      paddingBottom: 50,\n\n      [media.size('sidebarFixed')]: {\n        paddingTop: 40,\n      },\n      '@media print': {\n        display: 'none',\n      },\n    }}>\n    <Container>\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          justifyContent: 'space-between',\n\n\n          [media.between('small', 'medium')]: {\n            paddingRight: layoutHasSidebar ? 240 : null,\n          },\n\n          [media.between('large', 'largerSidebar')]: {\n            paddingRight: layoutHasSidebar ? 280 : null,\n          },\n          [media.between('largerSidebar', 'sidebarFixed', true)]: {\n            paddingRight: layoutHasSidebar ? 380 : null,\n          },\n        }}>\n        <div\n          css={{\n            flexWrap: 'wrap',\n            display: 'flex',\n            justifyContent: 'flex-end',\n\n            [media.lessThan('large')]: {\n              width: '100%',\n              justifyContent: 'flex-start',\n            },\n            [media.greaterThan('xlarge')]: {\n              width: 'calc(100% / 3 * 2)',\n              paddingLeft: 40,\n            },\n            [media.greaterThan('sidebarFixed')]: {\n              width: 'calc(100% / 5 * 2)',\n              paddingLeft: 40,\n            },\n          }}>\n\n          <FooterNav layoutHasSidebar={layoutHasSidebar}>\n            <SectionLinks links={navFooter.privacy.items} />\n          </FooterNav>\n\n        </div>\n        <section\n          css={{\n            paddingTop: 40,\n            display: 'block !important', // Override 'Installation' <style> specifics\n\n            [media.greaterThan('xlarge')]: {\n              width: 'calc(100% / 3)',\n              order: -1,\n            },\n            [media.greaterThan('large')]: {\n              order: -1,\n              width: layoutHasSidebar ? null : 'calc(100% / 3)',\n            },\n            [media.lessThan('large')]: {\n              textAlign: 'start',\n              width: '100%',\n              paddingTop: 40,\n            },\n          }}>\n          <a\n            href=\"https://scandipwa.com/\"\n            target=\"_blank\"\n            rel=\"noopener\">\n             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"180\" height=\"50\" viewBox=\"0 0 206 50\">\n                <g fill=\"none\" fillRule=\"evenodd\"><text fill=\"#bbb\" fontFamily=\"Montserrat-SemiBold, Montserrat\" fontSize=\"12\"\n                fontWeight=\"500\" letterSpacing=\"-.1\">\n                <tspan x=\"0\" y=\"47\">The first PWA theme for Magento</tspan>\n                </text>\n                <path fill=\"#bbb\"\n                d=\"M149.62 29.165c-.043-.098-.074-.2-.13-.288-1.283-1.975-2.568-3.945-3.851-5.918-.027-.04-.047-.085-.078-.144l4.036-11.133c1.506 2.667 2.978 5.272 4.494 7.959l6.383-17.502h6.185l5.889 17.366c.068.013.08.02.091.015.012-.002.023-.013.03-.023.034-.064.071-.128.102-.192l8.167-17.121c.004-.01.016-.02.039-.045h7.994c-.04.109-.066.208-.11.3-1.247 2.766-2.497 5.532-3.743 8.298-1.348 2.986-2.689 5.976-4.034 8.964-1.367 3.03-2.737 6.062-4.102 9.094-.054.119-.086.247-.126.37h-8.035c-.027-.138-.039-.282-.085-.415-.9-2.581-1.805-5.163-2.708-7.742-.67-1.911-1.338-3.822-2.005-5.733l-.606-1.73a.81.81 0 0 0-.22.34c-.356.974-.708 1.95-1.065 2.923-1.122 3.056-2.244 6.114-3.37 9.17-.392 1.064-.792 2.125-1.189 3.187h-7.953zM137.8 2.127c1.573.008 3.115.24 4.58.782 1.694.628 3.031 1.635 4.048 3.048-1.617 4.463-3.24 8.944-4.866 13.427-.447.171-.911.222-1.368.296-.898.146-1.808.169-2.718.169h-4.934c-.01.175-.023.315-.023.453v7.716c0 .38-.008.764-.01 1.147h-7.632c.004-.144.01-.286.01-.43l.001-13.08V2.13c.094-.006.156-.013.22-.013 4.23 0 8.463-.01 12.693.01zm-4.988 5.214c-.087 0-.175.02-.274.031v7.251c.127.014.204.03.282.03.885 0 1.77.019 2.652-.006.665-.022 1.331-.047 1.988-.185 1.243-.264 2.12-.896 2.518-1.99.373-1.029.387-2.069-.054-3.09-.348-.797-.963-1.368-1.86-1.683-.72-.249-1.476-.338-2.238-.352-1.004-.017-2.009-.006-3.014-.006zM196.78 29.165c-.026-.103-.035-.21-.076-.31-.591-1.48-1.188-2.964-1.785-4.445-.01-.022-.029-.04-.076-.098-.122-.006-.278-.017-.433-.017-3.28-.002-6.56-.002-9.839-.002-.157 0-.315-.006-.53-.01.777-1.765 1.533-3.482 2.301-5.22h6.694l-3.175-7.96 3.956-8.952.43 1.01c1.928 4.579 3.858 9.155 5.787 13.733 1.66 3.94 3.316 7.883 4.977 11.823.054.13.134.251.204.376-.014.025-.026.068-.041.07-.107.003-.214.002-.32.002h-8.074z\">\n                </path>\n                <path fill=\"#bbb\"\n                d=\"M3.088 3.463c1.915-1.363 4.35-2.044 7.308-2.044 3.522 0 6.543.72 9.063 2.16v6.555c-2.316-1.747-5.142-2.597-8.484-2.544-2.288.025-3.433.604-3.433 1.734 0 .54.348 1.022 1.042 1.446.694.426 1.561.785 2.603 1.079 1.04.297 2.166.694 3.373 1.197 1.209.5 2.335 1.06 3.375 1.676 1.042.618 1.909 1.497 2.603 2.642.694 1.145 1.042 2.461 1.042 3.954 0 5.5-3.6 8.25-10.797 8.25-3.935 0-7.393-.822-10.374-2.466v-6.75c2.955 2.031 6.233 3.046 9.833 3.046 1.439 0 2.467-.134 3.085-.404.617-.27.926-.739.926-1.408 0-.694-.482-1.298-1.447-1.811-.964-.516-2.134-.998-3.509-1.447a41.922 41.922 0 0 1-4.127-1.6c-1.374-.618-2.544-1.555-3.509-2.815-.964-1.26-1.446-2.776-1.446-4.55 0-2.57.958-4.538 2.873-5.9M26.757 12.448c2.096-1.722 4.61-2.584 7.539-2.584 2.031 0 3.933.424 5.707 1.274v5.59a9.249 9.249 0 0 0-4.704-1.273c-1.44 0-2.622.348-3.548 1.042-.925.694-1.39 1.773-1.39 3.239 0 1.388.465 2.442 1.39 3.16.926.722 2.069 1.082 3.431 1.082 1.904 0 3.573-.412 5.014-1.235v5.591c-1.98.825-4.1 1.235-6.363 1.235-2.828 0-5.239-.803-7.231-2.41-1.991-1.607-2.988-3.953-2.988-7.038 0-3.392 1.047-5.95 3.143-7.673M49.715 24.614c.41.348.95.521 1.62.521 1.156 0 2.173-.32 3.046-.964v-2.508c-.695-.23-1.478-.346-2.353-.346-1.953 0-2.93.669-2.93 2.004 0 .515.205.945.617 1.293m12.494.25c.257 0 .502-.038.733-.116v4.05c-.978.386-2.084.579-3.317.579-2.056 0-3.522-.68-4.397-2.045-1.901 1.493-4.05 2.237-6.438 2.237-1.826 0-3.356-.513-4.59-1.543-1.235-1.027-1.85-2.415-1.85-4.164 0-1.106.244-2.076.732-2.91.488-.836 1.137-1.474 1.948-1.91a10.167 10.167 0 0 1 2.545-.964c.886-.206 1.817-.309 2.795-.309 1.388 0 2.726.142 4.01.424v-.655c0-.694-.328-1.254-.983-1.678-.655-.424-1.614-.635-2.871-.635-1.954 0-4.114.476-6.48 1.426v-5.515c2.52-.822 4.922-1.232 7.21-1.232 3.163 0 5.566.655 7.213 1.965 1.644 1.312 2.467 3.534 2.467 6.672v5.167c0 .772.425 1.157 1.273 1.157M76.97 9.903c2.416 0 4.255.713 5.515 2.14 1.26 1.425 1.89 3.247 1.89 5.457v11.491h-6.556V18.387c0-.951-.258-1.672-.771-2.16-.516-.488-1.196-.733-2.046-.733-1.26 0-2.313.54-3.16 1.62V28.99h-6.556v-18.51h5.784v2.12c1.672-1.798 3.637-2.698 5.9-2.698M100.176 15.976c-.668-.449-1.427-.675-2.274-.675-1.287 0-2.269.438-2.951 1.31-.68.876-1.02 1.916-1.02 3.125s.34 2.249 1.02 3.124c.682.873 1.664 1.31 2.95 1.31.848 0 1.607-.224 2.275-.675.669-.449 1.157-.997 1.466-1.638v-4.242c-.309-.642-.797-1.19-1.466-1.639zm8.021-13.98v26.995h-5.783v-2.508c-.515.875-1.307 1.608-2.372 2.199-1.067.591-2.372.886-3.915.886-1.491 0-2.827-.281-4.01-.847-1.182-.566-2.12-1.324-2.815-2.275-.694-.952-1.221-2-1.58-3.143a11.82 11.82 0 0 1-.541-3.567c0-1.235.18-2.424.54-3.567.36-1.144.887-2.191 1.58-3.144.697-.95 1.634-1.709 2.815-2.274 1.184-.566 2.52-.848 4.01-.848 2.342 0 4.179.694 5.516 2.082V1.997h6.555zM112.161 28.99h6.555V10.48h-6.555v18.51zm5.957-22.038c-.706.605-1.6.908-2.68.908s-1.972-.303-2.68-.908c-.708-.604-1.06-1.51-1.06-2.717 0-1.184.36-2.077 1.08-2.681.719-.605 1.607-.906 2.66-.906 1.08 0 1.974.301 2.68.906.707.604 1.061 1.497 1.061 2.68 0 1.208-.354 2.114-1.061 2.718z\">\n              </path>\n                </g>\n              </svg>\n          </a>\n          <p\n            css={{\n              color: colors.subtleOnDark,\n              paddingTop: 15,\n              fontSize: 12,\n            }}>\n            {` ${new Date().getFullYear()} ScandiPWA. All Rights Reserved`}\n          </p>\n        </section>\n      </div>\n    </Container>\n  </footer>\n)};\n\nexport default Footer;\n","import createConnector from '../core/createConnector';\nimport { getResults } from '../core/indexUtils';\nimport { addAbsolutePositions, addQueryID } from '../core/utils';\n/**\n * connectHits connector provides the logic to create connected\n * components that will render the results retrieved from\n * Algolia.\n *\n * To configure the number of hits retrieved, use [HitsPerPage widget](widgets/HitsPerPage.html),\n * [connectHitsPerPage connector](connectors/connectHitsPerPage.html) or pass the hitsPerPage\n * prop to a [Configure](guide/Search_parameters.html) widget.\n *\n * **Warning:** you will need to use the **objectID** property available on every hit as a key\n * when iterating over them. This will ensure you have the best possible UI experience\n * especially on slow networks.\n * @name connectHits\n * @kind connector\n * @providedPropType {array.<object>} hits - the records that matched the search state\n * @example\n * import React from 'react';\n * import algoliasearch from 'algoliasearch/lite';\n * import { InstantSearch, Highlight, connectHits } from 'react-instantsearch-dom';\n *\n * const searchClient = algoliasearch(\n *   'latency',\n *   '6be0576ff61c053d5f9a3225e2a90f76'\n * );\n * const CustomHits = connectHits(({ hits }) => (\n *   <div>\n *     {hits.map(hit =>\n *       <p key={hit.objectID}>\n *         <Highlight attribute=\"name\" hit={hit} />\n *       </p>\n *     )}\n *   </div>\n * ));\n *\n * const App = () => (\n *   <InstantSearch\n *     searchClient={searchClient}\n *     indexName=\"instant_search\"\n *   >\n *     <CustomHits />\n *   </InstantSearch>\n * );\n */\n\nexport default createConnector({\n  displayName: 'AlgoliaHits',\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n\n    if (!results) {\n      return {\n        hits: []\n      };\n    }\n\n    var hitsWithPositions = addAbsolutePositions(results.hits, results.hitsPerPage, results.page);\n    var hitsWithPositionsAndQueryID = addQueryID(hitsWithPositions, results.queryID);\n    return {\n      hits: hitsWithPositionsAndQueryID\n    };\n  },\n\n  /**\n   * Hits needs to be considered as a widget to trigger a search,\n   * even if no other widgets are used.\n   *\n   * To be considered as a widget you need either:\n   * - getSearchParameters\n   * - getMetadata\n   * - transitionState\n   *\n   * See: createConnector.tsx\n   */\n  getSearchParameters: function getSearchParameters(searchParameters) {\n    return searchParameters;\n  }\n});","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\nimport {media} from 'theme';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  children: Node,\n  title?: string,\n  layoutHasSidebar: boolean,\n};\n\nconst FooterNav = ({children, title, layoutHasSidebar = false}: Props) => (\n  <div\n    css={{\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      // width: '100%',\n      paddingTop: 40,\n\n      [media.size('sidebarFixed')]: {\n        paddingTop: 0,\n        // width: '25%',\n      },\n    }}>\n    <div\n      css={{\n        display: 'flex',\n        flexDirection: 'row',\n        [media.lessThan('medium')]: {\n          flexDirection: 'column',\n        },\n      }}>\n      {children}\n    </div>\n  </div>\n);\n\nexport default FooterNav;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Footer from './Footer';\n\nexport default Footer;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Header from './Header';\n\nexport default Header;\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Layout from './Layout';\n\nexport default Layout;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\n\nimport {media} from 'theme';\n\nimport type {Node} from 'react';\n\n/**\n * This component wraps page content sections (eg header, footer, main).\n * It provides consistent margin and max width behavior.\n */\nconst Container = ({children}: {children: Node}) => (\n  <div\n    css={{\n      paddingLeft: 20,\n      paddingRight: 20,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      [media.greaterThan('medium')]: {\n        width: '90%',\n      },\n\n      [media.size('xxlarge')]: {\n        maxWidth: 1260,\n      },\n    }}>\n    {children}\n  </div>\n);\n\nexport default Container;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @providesModule site-constants\n * @flow\n */\n\n// NOTE: We can't just use `location.toString()` because when we are rendering\n// the SSR part in node.js we won't have a proper location.\nconst urlRoot = 'https://reactjs.org';\nconst version = '16.13.1';\nconst babelURL = 'https://unpkg.com/babel-standalone@6.26.0/babel.min.js';\n\nexport {babelURL, urlRoot, version};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Container from './Container';\n\nexport default Container;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a),\n        arrB = isArray(b),\n        i,\n        length,\n        key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    var keys = keyList(a);\n    length = keys.length;\n    if (length !== keyList(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!hasProp.call(b, keys[i])) return false;\n    } // end fast-deep-equal\n    // start react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element && b instanceof Element) return a === b; // custom handling for React\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    } // end react-fast-compare\n    // fast-deep-equal index.js 2.0.1\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (error.message && error.message.match(/stack|recursion/i) || error.number === -2146828260) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","module.exports = __webpack_public_path__ + \"static/search-b72cb6ed1f938998bc70696b359b3f09.png\";","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","exports.__esModule = true;\nvar ATTRIBUTE_NAMES = exports.ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = exports.TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = exports.VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = exports.TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\"\n};\nvar REACT_TAG_MAP = exports.REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = exports.HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = exports.HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = exports.SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = exports.HELMET_ATTRIBUTE = \"data-react-helmet\";","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","'use strict'; // NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\n\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n  return sources.reduceRight(function (acc, source) {\n    Object.keys(Object(source)).forEach(function (key) {\n      if (source[key] === undefined) {\n        return;\n      }\n\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\n\nvar find = require('../functions/find');\n\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement = state.hierarchicalFacetsRefinements[hierarchicalFacet.name] && state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0] || '';\n\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var hierarchicalRootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(hierarchicalFacet);\n\n    var sortBy = prepareHierarchicalFacetSortBy(state._getHierarchicalFacetSortBy(hierarchicalFacet));\n    var rootExhaustive = hierarchicalFacetResult.every(function (facetResult) {\n      return facetResult.exhaustive;\n    });\n    var generateTreeFn = generateHierarchicalTree(sortBy, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel, hierarchicalFacetRefinement);\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(hierarchicalRootPath.split(hierarchicalSeparator).length);\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null,\n      // root level, no count\n      isRefined: true,\n      // root level, always refined\n      path: null,\n      // root level, no path\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(sortBy, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel, currentRefinement) {\n  return function generateTree(hierarchicalTree, hierarchicalFacetResult, currentHierarchicalLevel) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function (subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    } // we found a refined parent, let's add current level data under it\n\n\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bires'],\n      //       level1: ['beers > IPA', 'bires > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bires > Belges`\n      // showing up\n      var picked = Object.keys(hierarchicalFacetResult.data).map(function (facetValue) {\n        return [facetValue, hierarchicalFacetResult.data[facetValue]];\n      }).filter(function (tuple) {\n        var facetValue = tuple[0];\n        return onlyMatchingTree(facetValue, parent.path || hierarchicalRootPath, currentRefinement, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel);\n      });\n      parent.data = orderBy(picked.map(function (tuple) {\n        var facetValue = tuple[0];\n        var facetCount = tuple[1];\n        return format(facetCount, facetValue, hierarchicalSeparator, currentRefinement, hierarchicalFacetResult.exhaustive);\n      }), sortBy[0], sortBy[1]);\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(facetValue, parentPath, currentRefinement, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (hierarchicalRootPath && (facetValue.indexOf(hierarchicalRootPath) !== 0 || hierarchicalRootPath === facetValue)) {\n    return false;\n  } // we always want root levels (only when there is no prefix path)\n\n\n  return !hierarchicalRootPath && facetValue.indexOf(hierarchicalSeparator) === -1 || // if there is a rootPath, being root level mean 1 level under rootPath\n  hierarchicalRootPath && facetValue.split(hierarchicalSeparator).length - hierarchicalRootPath.split(hierarchicalSeparator).length === 1 || // if current refinement is a root level and current facetValue is a root level,\n  // keep the facetValue\n  facetValue.indexOf(hierarchicalSeparator) === -1 && currentRefinement.indexOf(hierarchicalSeparator) === -1 || // currentRefinement is a child of the facet value\n  currentRefinement.indexOf(facetValue) === 0 || // facetValue is a child of the current parent, add it\n  facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 && (hierarchicalShowParentLevel || facetValue.indexOf(currentRefinement) === 0);\n}\n\nfunction format(facetCount, facetValue, hierarchicalSeparator, currentRefinement, exhaustive) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    count: facetCount,\n    isRefined: currentRefinement === facetValue || currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;","'use strict'; // @MAJOR can be replaced by native Array#findIndex when we change support\n\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n};","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict'; // https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","import { createContext } from 'react';\n\nvar _createContext = createContext({\n  onInternalStateUpdate: function onInternalStateUpdate() {\n    return undefined;\n  },\n  createHrefForState: function createHrefForState() {\n    return '#';\n  },\n  onSearchForFacetValues: function onSearchForFacetValues() {\n    return undefined;\n  },\n  onSearchStateChange: function onSearchStateChange() {\n    return undefined;\n  },\n  onSearchParameters: function onSearchParameters() {\n    return undefined;\n  },\n  store: {},\n  widgetsManager: {},\n  mainTargetedIndex: ''\n}),\n    InstantSearchConsumer = _createContext.Consumer,\n    InstantSearchProvider = _createContext.Provider;\n\nexport { InstantSearchConsumer, InstantSearchProvider };\n\nvar _createContext2 = createContext(undefined),\n    IndexConsumer = _createContext2.Consumer,\n    IndexProvider = _createContext2.Provider;\n\nexport { IndexConsumer, IndexProvider };","'use strict';\n\nvar merge = require('../functions/merge');\n\nvar defaultsPure = require('../functions/defaultsPure');\n\nvar orderBy = require('../functions/orderBy');\n\nvar compact = require('../functions/compact');\n\nvar find = require('../functions/find');\n\nvar findIndex = require('../functions/findIndex');\n\nvar formatSort = require('../functions/formatSort');\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\n\n\nfunction getIndices(attributes) {\n  var indices = {};\n  attributes.forEach(function (val, idx) {\n    indices[val] = idx;\n  });\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\n\n\nfunction findMatchingHierarchicalFacetFromAttributeName(hierarchicalFacets, hierarchicalAttributeName) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(hierarchicalFacet) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n/*eslint-disable */\n\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devid=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex\": 202,\n            \"Insignia\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n\n/*eslint-enable */\n\n\nfunction SearchResults(state, results) {\n  var mainSubResponse = results[0];\n  this._rawResults = results;\n  var self = this; // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n\n  Object.keys(mainSubResponse).forEach(function (key) {\n    self[key] = mainSubResponse[key];\n  });\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n\n  this.processingTimeMS = results.reduce(function (sum, result) {\n    return result.processingTimeMS === undefined ? sum : sum + result.processingTimeMS;\n  }, 0);\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n\n  this.facets = [];\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1; // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n  Object.keys(mainFacets).forEach(function (facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(state.hierarchicalFacets, facetKey);\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function (f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  }); // Make sure we do not keep holes within the hierarchical facets\n\n  this.hierarchicalFacets = compact(this.hierarchicalFacets); // aggregate the refined disjunctive facets\n\n  disjunctiveFacets.forEach(function (disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet); // There should be only item in facets.\n\n    Object.keys(facets).forEach(function (dfacet) {\n      var facetResults = facets[dfacet];\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function (f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function (f) {\n          return f.attribute === dfacet;\n        }); // previous refinements and no results so not able to find it\n\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge({}, self.hierarchicalFacets[position][attributeIndex].data, facetResults);\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function (refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] && state.disjunctiveFacetsRefinements[dfacet].indexOf(refinementValue) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  }); // if we have some root level values for hierarchical facets, merge them\n\n  state.getRefinedHierarchicalFacets().forEach(function (refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet); // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    Object.keys(facets).forEach(function (dfacet) {\n      var facetResults = facets[dfacet];\n      var position = findIndex(state.hierarchicalFacets, function (f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      var attributeIndex = findIndex(self.hierarchicalFacets[position], function (f) {\n        return f.attribute === dfacet;\n      }); // previous refinements and no results so not able to find it\n\n      if (attributeIndex === -1) {\n        return;\n      } // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n      // then the disjunctive values will be `beers` (count: 100),\n      // but we do not want to display\n      //   | beers (100)\n      //     > IPA (5)\n      // We want\n      //   | beers (5)\n      //     > IPA (5)\n\n\n      var defaultData = {};\n\n      if (currentRefinement.length > 0) {\n        var root = currentRefinement[0].split(separator)[0];\n        defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n      }\n\n      self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(defaultData, facetResults, self.hierarchicalFacets[position][attributeIndex].data);\n    });\n    nextDisjunctiveResult++;\n  }); // add the excludes\n\n  Object.keys(state.facetsExcludes).forEach(function (facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function (facetValue) {\n      self.facets[position] = self.facets[position] || {\n        name: facetName\n      };\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n  /**\n   * @type {Array}\n   */\n\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n  /**\n   * @type {Array}\n   */\n\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n  this._state = state;\n}\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\n\n\nSearchResults.prototype.getFacetByName = function (name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) || find(this.disjunctiveFacets, predicate) || find(this.hierarchicalFacets, predicate);\n};\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\n\n\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n    return Object.keys(facet.data).map(function (name) {\n      return {\n        name: name,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, name),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n    return Object.keys(disjunctiveFacet.data).map(function (name) {\n      return {\n        name: name,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    return find(results.hierarchicalFacets, predicate);\n  }\n}\n/**\n * Sort nodes of a hierarchical facet results\n * @private\n * @param {HierarchicalFacet} node node to upon which we want to apply the sort\n */\n\n\nfunction recSort(sortFn, node) {\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function (childNode) {\n    return recSort(sortFn, childNode);\n  });\n  var sortedChildren = sortFn(children);\n  var newNode = merge({}, node, {\n    data: sortedChildren\n  });\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\n\n\nSearchResults.prototype.getFacetValues = function (attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {\n    sortBy: SearchResults.DEFAULT_SORT\n  });\n\n  if (Array.isArray(options.sortBy)) {\n    var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n\n    if (Array.isArray(facetValues)) {\n      return orderBy(facetValues, order[0], order[1]);\n    } // If facetValues is not an array, it's an object thus a hierarchical facet object\n\n\n    return recSort(function (hierarchicalFacetValues) {\n      return orderBy(hierarchicalFacetValues, order[0], order[1]);\n    }, facetValues);\n  } else if (typeof options.sortBy === 'function') {\n    if (Array.isArray(facetValues)) {\n      return facetValues.sort(options.sortBy);\n    } // If facetValues is not an array, it's an object thus a hierarchical facet object\n\n\n    return recSort(function (data) {\n      return vanillaSortFn(options.sortBy, data);\n    }, facetValues);\n  }\n\n  throw new Error('options.sortBy is optional but if defined it must be ' + 'either an array of string (predicates) or a sorting function');\n};\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\n\n\nSearchResults.prototype.getFacetStats = function (attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\n\n\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function (facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\n\n\nSearchResults.prototype.getRefinements = function () {\n  var state = this._state;\n  var results = this;\n  var res = [];\n  Object.keys(state.facetsRefinements).forEach(function (attributeName) {\n    state.facetsRefinements[attributeName].forEach(function (name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n  Object.keys(state.facetsExcludes).forEach(function (attributeName) {\n    state.facetsExcludes[attributeName].forEach(function (name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function (attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function (name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function (attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function (name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n  Object.keys(state.numericRefinements).forEach(function (attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function (operator) {\n      operators[operator].forEach(function (value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n  state.tagRefinements.forEach(function (name) {\n    res.push({\n      type: 'tag',\n      attributeName: '_tags',\n      name: name\n    });\n  });\n  return res;\n};\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\n\n\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function (f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = facet && facet.exhaustive || false;\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\n\n\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function (facet) {\n    return facet.name === attributeName;\n  });\n  var facet = split.reduce(function (intermediateFacet, part) {\n    var newFacet = intermediateFacet && find(intermediateFacet.data, function (f) {\n      return f.name === part;\n    });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n  var count = facet && facet.count || 0;\n  var exhaustive = facet && facet.exhaustive || false;\n  var path = facet && facet.path || '';\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","exports.__esModule = true;\nexports.warn = exports.requestAnimationFrame = exports.reducePropsToState = exports.mapStateOnServer = exports.handleClientStateChange = exports.convertReactPropstoHtmlAttributes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, _HelmetConstants.TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[_HelmetConstants.TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[_HelmetConstants.TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attributeKey === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT || attributeKey === _HelmetConstants.TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = (0, _objectAssign2.default)({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([_HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n    bodyAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.LINK, [_HelmetConstants.TAG_PROPERTIES.REL, _HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.META, [_HelmetConstants.TAG_PROPERTIES.NAME, _HelmetConstants.TAG_PROPERTIES.CHARSET, _HelmetConstants.TAG_PROPERTIES.HTTPEQUIV, _HelmetConstants.TAG_PROPERTIES.PROPERTY, _HelmetConstants.TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.NOSCRIPT, [_HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.SCRIPT, [_HelmetConstants.TAG_PROPERTIES.SRC, _HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.STYLE, [_HelmetConstants.TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(_HelmetConstants.TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(_HelmetConstants.TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(_HelmetConstants.TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(_HelmetConstants.TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(_HelmetConstants.TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(_HelmetConstants.TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(_HelmetConstants.TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(_HelmetConstants.TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + _HelmetConstants.HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = _HelmetConstants.SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[_HelmetConstants.REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[_HelmetConstants.HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[_HelmetConstants.HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [_react2.default.createElement(_HelmetConstants.TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[_HelmetConstants.HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = _HelmetConstants.REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || mappedAttribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return _react2.default.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case _HelmetConstants.TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case _HelmetConstants.ATTRIBUTE_NAMES.BODY:\n    case _HelmetConstants.ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(_HelmetConstants.TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(_HelmetConstants.TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(_HelmetConstants.TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(_HelmetConstants.TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(_HelmetConstants.TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nexports.convertReactPropstoHtmlAttributes = convertReactPropstoHtmlAttributes;\nexports.handleClientStateChange = handleClientStateChange;\nexports.mapStateOnServer = mapStateOnServer;\nexports.reducePropsToState = reducePropsToState;\nexports.requestAnimationFrame = requestAnimationFrame;\nexports.warn = warn;","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","module.exports = {\"privacy\":{\"items\":[{\"title\":\"Privacy Policy\",\"to\":\"https://scandipwa.com/privacy.html\",\"external\":true},{\"title\":\"Cookie Policy\",\"to\":\"https://scandipwa.com/cookies.html\",\"external\":true},{\"title\":\"Terms of Service\",\"to\":\"https://scandipwa.com/terms.html\",\"external\":true}]}}","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (!othIsNull && value > other || valIsNull && othIsDefined || !valIsDefined) {\n      return 1;\n    }\n\n    if (!valIsNull && value < other || othIsNull && valIsDefined || !othIsDefined) {\n      return -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\n\n\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function (value, index) {\n    return {\n      criteria: iteratees.map(function (iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n\n        return res;\n      }\n    } // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n\n\n    return object.index - other.index;\n  });\n  return result.map(function (res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport patchDOMForGoogleTranslate from 'utils/patchDOMForGoogleTranslate';\nimport React, {Component} from 'react';\nimport Flex from 'components/Flex';\nimport Footer from 'components/LayoutFooter';\nimport Header from 'components/LayoutHeader';\nimport {media} from 'theme';\n\npatchDOMForGoogleTranslate();\n\ntype Props = {\n  children: Function,\n  location: Location,\n};\n\nclass Template extends Component<Props> {\n  render() {\n    const {children, location} = this.props;\n\n    // TODO - is there a better way to check if we need we have a sidebar?\n    let layoutHasSidebar = false;\n    if (\n      location.pathname.match(\n        /^\\/(docs)/,\n      )\n    ) {\n      layoutHasSidebar = true;\n    }\n\n    return (\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'column',\n          minHeight: 'calc(100vh - 40px)',\n        }}>\n        <Header location={location} />\n        <Flex\n          direction=\"column\"\n          shrink=\"0\"\n          grow=\"1\"\n          valign=\"stretch\"\n          css={{\n            flex: '1 0 auto',\n            marginTop: 60,\n            [media.between('medium', 'large')]: {\n              marginTop: 50,\n            },\n            [media.lessThan('medium')]: {\n              marginTop: 40,\n            },\n          }}>\n          {children}\n        </Flex>\n        <Footer layoutHasSidebar={layoutHasSidebar} />\n      </div>\n    );\n  }\n}\n\nexport default Template;\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.small` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\nimport {colors} from 'theme';\nimport ExternalLinkSvg from 'templates/components/ExternalLinkSvg';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  children: Node,\n  href: string,\n  target?: string,\n  rel?: string,\n};\n\nconst ExternalFooterLink = ({children, href, target, rel}: Props) => (\n  <a\n    css={{\n      lineHeight: 2,\n      marginRight: 20,\n      ':hover': {\n        color: colors.brand,\n      },\n    }}\n    href={href}\n    target={target}\n    rel={rel}>\n    {children}\n    <ExternalLinkSvg\n      cssProps={{\n        verticalAlign: -2,\n        display: 'inline-block',\n        marginLeft: 5,\n        color: colors.subtle,\n      }}\n    />\n  </a>\n);\n\nexport default ExternalFooterLink;\n"],"sourceRoot":""}