{"componentChunkName":"component---src-templates-docs-js","path":"/docs/caching.html","result":{"data":{"markdownRemark":{"html":"<p>ScandiPWA controls cache in a different way than <a href=\"https://devdocs.magento.com/guides/v2.3/graphql/develop/create-graphqls-file.html#query-caching\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">default Magento 2</a> does. We are still using the caching identities, but, instead of specifying them on GraphQL queries we use events.</p>\n<h2 id=\"watch-the-tutorial\"><a href=\"#watch-the-tutorial\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Watch the tutorial</h2>\n<blockquote>\n<p><strong>Note</strong>:</p>\n<p>video is coming soon!</p>\n</blockquote>\n<h2 id=\"general-rule\"><a href=\"#general-rule\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>General rule</h2>\n<p>To make some of your model work as cache identity manager:</p>\n<ol>\n<li>Make sure it implements the <code class=\"gatsby-code-text\">Magento\\Framework\\DataObject\\IdentityInterface</code></li>\n</ol>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"24985620716460890000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`use Magento\\Framework\\DataObject\\IdentityInterface;\nuse Magento\\Framework\\Model\\AbstractModel;\n\nclass Slide extends AbstractModel implements IdentityInterface {\n    public function getIdentities() {\n        // TODO: implement\n    }\n}`, `24985620716460890000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"gatsby-code-php\"><code class=\"gatsby-code-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>DataObject<span class=\"token punctuation\">\\</span>IdentityInterface</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Model<span class=\"token punctuation\">\\</span>AbstractModel</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Slide</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractModel</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IdentityInterface</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getIdentities</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// TODO: implement</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"2\">\n<li>Specify the caching tag constant, it should be short and unique:</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"39848821164791630000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`class Slide extends AbstractModel implements IdentityInterface {\n    const CACHE_TAG = 'sw_sld';\n\n    protected \\$_cacheTag = self::CACHE_TAG;\n}`, `39848821164791630000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"gatsby-code-php\"><code class=\"gatsby-code-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Slide</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractModel</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IdentityInterface</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token constant\">CACHE_TAG</span> <span class=\"token operator\">=</span> <span class=\"token single-quoted-string string\">'sw_sld'</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$_cacheTag</span> <span class=\"token operator\">=</span> self<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">CACHE_TAG</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li>Implement the <code class=\"gatsby-code-text\">getIdentities</code> method, specify all involved cache identities. In our example, on slide save, the slider model should also be invalidate:</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"34540689066031137000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`class Slide extends AbstractModel implements IdentityInterface {\n    const CACHE_TAG = 'sw_sld';\n\n    public function getIdentities() {\n        return [\n            self::CACHE_TAG . '_' . \\$this->getId(),\n            Slider::CACHE_TAG . '_' . \\$this->getSliderId()\n        ];\n    }\n}`, `34540689066031137000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"gatsby-code-php\"><code class=\"gatsby-code-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Slide</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractModel</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IdentityInterface</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token constant\">CACHE_TAG</span> <span class=\"token operator\">=</span> <span class=\"token single-quoted-string string\">'sw_sld'</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getIdentities</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n            self<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">CACHE_TAG</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">'_'</span> <span class=\"token punctuation\">.</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            Slider<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">CACHE_TAG</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">'_'</span> <span class=\"token punctuation\">.</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getSliderId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"4\">\n<li>Add the names for events, prefer unique, descriptive names:</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"70767683315640520000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`class Slide extends AbstractModel implements IdentityInterface {\n    protected \\$_eventPrefix = 'scandiweb_slider_slide';\n}`, `70767683315640520000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"gatsby-code-php\"><code class=\"gatsby-code-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Slide</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractModel</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IdentityInterface</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$_eventPrefix</span> <span class=\"token operator\">=</span> <span class=\"token single-quoted-string string\">'scandiweb_slider_slide'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"5\">\n<li>In case you have a resource model, i.e. the <code class=\"gatsby-code-text\">Collection</code>, add the event after collection save:</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"3254984555587947500\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`use Magento\\Framework\\Model\\ResourceModel\\Db\\Collection\\AbstractCollection;\n\nclass Collection extends AbstractCollection {\n    protected function _afterLoadData() {\n        parent::_afterLoadData();\n\n        \\$collection = clone \\$this;\n\n        if (count(\\$collection)) {\n            \\$this->_eventManager->dispatch(\n                'scandiweb_slider_slider_collection_load_after',\n                ['collection' => \\$collection]\n            );\n        }\n\n        return \\$this;\n    }\n}`, `3254984555587947500`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"gatsby-code-php\"><code class=\"gatsby-code-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Model<span class=\"token punctuation\">\\</span>ResourceModel<span class=\"token punctuation\">\\</span>Db<span class=\"token punctuation\">\\</span>Collection<span class=\"token punctuation\">\\</span>AbstractCollection</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Collection</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractCollection</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">function</span> <span class=\"token function\">_afterLoadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">parent</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">_afterLoadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token variable\">$collection</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">clone</span> <span class=\"token variable\">$this</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$collection</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">_eventManager</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span>\n                <span class=\"token single-quoted-string string\">'scandiweb_slider_slider_collection_load_after'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'collection'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$collection</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"6\">\n<li>It is finally time to connect the events, to granular cache management classes. Create, or modify the <code class=\"gatsby-code-text\">etc/events.xml</code> with following content:</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"410601331197635300\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`<config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;urn:magento:framework:Event/etc/events.xsd&quot;>\n    <event name=&quot;scandiweb_slider_slider_collection_load_after&quot;>\n        <observer name=&quot;pq_cc_slider&quot; instance=&quot;ScandiPWA\\Cache\\Observer\\Response\\TagEntityResponse&quot;/>\n    </event>\n    <event name=&quot;scandiweb_slider_slider_save_after&quot;>\n        <observer name=&quot;pq_cc_slider&quot; instance=&quot;ScandiPWA\\Cache\\Observer\\FlushVarnishObserver&quot;/>\n    </event>\n    <event name=&quot;scandiweb_slider_slide_collection_load_after&quot;>\n        <observer name=&quot;pq_cc_slide&quot; instance=&quot;ScandiPWA\\Cache\\Observer\\Response\\TagEntityResponse&quot;/>\n    </event>\n    <event name=&quot;scandiweb_slider_slide_save_after&quot;>\n        <observer name=&quot;pq_cc_slide&quot; instance=&quot;ScandiPWA\\Cache\\Observer\\FlushVarnishObserver&quot;/>\n    </event>\n</config>`, `410601331197635300`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"gatsby-code-xml\"><code class=\"gatsby-code-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:Event/etc/events.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>event</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>scandiweb_slider_slider_collection_load_after<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>observer</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pq_cc_slider<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">instance</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ScandiPWA\\Cache\\Observer\\Response\\TagEntityResponse<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>event</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>event</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>scandiweb_slider_slider_save_after<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>observer</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pq_cc_slider<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">instance</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ScandiPWA\\Cache\\Observer\\FlushVarnishObserver<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>event</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>event</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>scandiweb_slider_slide_collection_load_after<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>observer</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pq_cc_slide<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">instance</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ScandiPWA\\Cache\\Observer\\Response\\TagEntityResponse<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>event</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>event</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>scandiweb_slider_slide_save_after<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>observer</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pq_cc_slide<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">instance</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ScandiPWA\\Cache\\Observer\\FlushVarnishObserver<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>event</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Note, there are two classes used as observers:</p>\n<ul>\n<li><code class=\"gatsby-code-text\">ScandiPWA\\Cache\\Observer\\FlushVarnishObserver</code> - responsible for flushing, must be triggered on save of the model.</li>\n<li><code class=\"gatsby-code-text\">ScandiPWA\\Cache\\Observer\\Response\\TagEntityResponse</code> - responsible for tagging, must be triggered after load of the collection / model.</li>\n</ul>","frontmatter":{"title":"Implementing Caching for New Caching Identities"},"fields":{"path":"content/docs/caching.md","slug":"/docs/caching.html"}}},"pageContext":{"slug":"/docs/caching.html"}},"staticQueryHashes":[]}