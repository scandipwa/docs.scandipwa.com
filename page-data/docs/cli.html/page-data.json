{"componentChunkName":"component---src-templates-docs-js","path":"/docs/cli.html","result":{"data":{"markdownRemark":{"html":"<h2 id=\"watch-video\"><a href=\"#watch-video\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Watch video</h2>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; \" > <div class=\"video\"> <iframe src=\"https://www.youtube.com/embed/-RWQB4US4tg\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div> </div>\n<h2 id=\"pro-tip-use-aliases\"><a href=\"#pro-tip-use-aliases\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pro Tip: use aliases</h2>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"5144852064881422000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`# use \\`dc\\` to start without \\`frontend\\` container\nalias dc=&quot;docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml&quot;\n\n# use \\`dcf\\` to start with \\`frontend\\` container\nalias dcf=&quot;docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml&quot;\n\n# use \\`inapp\\` to quickly get inside of the app container\nalias inapp=&quot;docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml exec -u user app&quot;\n\n# use \\`applogs\\` to quickly see the last 100 lines of app container logs\nalias applogs=&quot;docker-compose logs -f --tail=100 app&quot;\n\n# use \\`frontlogs\\` to quickly see the last 100 lines of frontend container logs\nalias frontlogs=&quot;docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml logs -f --tail=100 frontend&quot;`, `5144852064881422000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\"><span class=\"token comment\"># use `dc` to start without `frontend` container</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dc</span><span class=\"token operator\">=</span><span class=\"token string\">\"docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml\"</span>\n\n<span class=\"token comment\"># use `dcf` to start with `frontend` container</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dcf</span><span class=\"token operator\">=</span><span class=\"token string\">\"docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml\"</span>\n\n<span class=\"token comment\"># use `inapp` to quickly get inside of the app container</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">inapp</span><span class=\"token operator\">=</span><span class=\"token string\">\"docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml exec -u user app\"</span>\n\n<span class=\"token comment\"># use `applogs` to quickly see the last 100 lines of app container logs</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">applogs</span><span class=\"token operator\">=</span><span class=\"token string\">\"docker-compose logs -f --tail=100 app\"</span>\n\n<span class=\"token comment\"># use `frontlogs` to quickly see the last 100 lines of frontend container logs</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">frontlogs</span><span class=\"token operator\">=</span><span class=\"token string\">\"docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml logs -f --tail=100 frontend\"</span></code></pre></div>\n<h2 id=\"stack-operations\"><a href=\"#stack-operations\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Stack operations</h2>\n<p>Start and create containers <code class=\"gatsby-code-text\">docker-compose up -d</code></p>\n<p>Start - <code class=\"gatsby-code-text\">docker-compose start</code></p>\n<p>Restart - <code class=\"gatsby-code-text\">docker-compose restart</code></p>\n<p>Stop - <code class=\"gatsby-code-text\">docker-compose stop</code></p>\n<p>Stop and remove - <code class=\"gatsby-code-text\">docker-compose down</code></p>\n<p>Pull latest containers from repos - <code class=\"gatsby-code-text\">docker-compose pull</code></p>\n<p>Check status - <code class=\"gatsby-code-text\">docker-compose ps</code></p>\n<p>List open ports - <code class=\"gatsby-code-text\">docker-compose ports</code></p>\n<h2 id=\"app-container-debug-mode\"><a href=\"#app-container-debug-mode\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>App container debug mode</h2>\n<p>During container build you might need to execute indide it, but due to errors it bootloops.</p>\n<p>Here is how to override it:</p>\n<ul>\n<li>Stop app container\n<code class=\"gatsby-code-text\">docker-compose stop app</code></li>\n<li>Execute the app container <code class=\"gatsby-code-text\">docker run -it -e COMPOSER_AUTH --entrypoint /bin/bash APP_CONTAINER_NAME</code></li>\n</ul>\n<h2 id=\"logging\"><a href=\"#logging\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Logging</h2>\n<p>Logs can be accessed with <code class=\"gatsby-code-text\">docker-compose logs -f</code> to fetch all logs from all stack.\nTo watch specific container logs - <code class=\"gatsby-code-text\">docker-compose logs -f app</code> can use multiple container names, separated by space</p>\n<h2 id=\"shell-access\"><a href=\"#shell-access\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Shell access</h2>\n<p>To execute into application <code class=\"gatsby-code-text\">docker-compose exec -u user app bash -l</code>, it runs default Ubuntu 16.04.\nOther services in stack are using default ports and open to host, you can use any tools to interact with them directly\nService containers run on Alpine local, use <code class=\"gatsby-code-text\">docker-compose exec mysql /bin/sh -l</code></p>\n<p>Note the flag <code class=\"gatsby-code-text\">-l</code>, passing it you will make “normal” login into shell, with proper expose of updated $PATH and other variables in the system</p>\n<h2 id=\"full-rebuild-with-log-attach\"><a href=\"#full-rebuild-with-log-attach\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Full rebuild with log attach</h2>\n<p><code class=\"gatsby-code-text\">docker-compose -f docker-compose.yml -f docker-compose.local.yml up -d --force-recreate --remove-orphans --build &amp;&amp; docker-compose logs -f</code></p>\n<h2 id=\"rebuild-app-container-without-cache\"><a href=\"#rebuild-app-container-without-cache\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rebuild app container without cache</h2>\n<p><code class=\"gatsby-code-text\">docker-compose -f docker-compose.yml -f docker-compose.local.yml build --no-cache app</code></p>\n<h2 id=\"reference\"><a href=\"#reference\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://docs.docker.com/compose/reference/overview/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.docker.com/compose/reference/overview/</a> - docker-compose cli overview and reference</li>\n<li><a href=\"https://docs.docker.com/engine/reference/commandline/cli/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.docker.com/engine/reference/commandline/cli/</a> - docker cli overview and reference</li>\n</ul>","frontmatter":{"title":"CLI in Docker"},"fields":{"path":"content/docs/cli.md","slug":"/docs/cli.html"}}},"pageContext":{"slug":"/docs/cli.html"}},"staticQueryHashes":[]}