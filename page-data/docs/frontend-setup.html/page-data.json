{"componentChunkName":"component---src-templates-docs-js","path":"/docs/frontend-setup.html","result":{"data":{"markdownRemark":{"html":"<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; \" > <div class=\"video\"> <iframe src=\"https://www.youtube.com/embed/TqJw883qvrA\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div> </div>\n<p>Topics covered in this tutorial:</p>\n<ul>\n<li><a href=\"#how-to-start-the-development-set-up\">How To Start The Development Set-Up?</a></li>\n<li><a href=\"#working-with-the-front-end-container-difference-between-the-production-and-development-set-up\">Working With The Front-End Container: Difference Between The Production And Development Set-Up</a></li>\n<li><a href=\"#overriding-a-component-step-by-step-walkthrough\">Overriding A Component: Step-By-Step Walkthrough</a></li>\n</ul>\n<h2 id=\"what-is-a-front-end-container\"><a href=\"#what-is-a-front-end-container\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What Is A Front-End Container?</h2>\n<p>ScandiPWA Docker set-up comes with two options. You can either wither with or without front-end.</p>\n<p>A front-end container completely replaces the front-end for the application. So, instead of the Magento server providing you with the front-end, the <code class=\"gatsby-code-text\">webpack</code> dev server does it.</p>\n<h2 id=\"how-to-start-the-development-set-up\"><a href=\"#how-to-start-the-development-set-up\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How To Start The Development Set-Up?</h2>\n<p>You can check out one of our <a href=\"https://docs.scandipwa.com/docs/linux.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker set-up tutorials</a> to find out more about the recommended aliases.</p>\n<p>To start the development set-up use:</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"39873070570484195000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml up -d --remove-orphans`, `39873070570484195000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\">docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml up -d --remove-orphans</code></pre></div>\n<p>Or, if you have this alias set up</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"13889199992451906000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`# docker-compose with front-end\nalias dcf=&quot;docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml&quot;`, `13889199992451906000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\"><span class=\"token comment\"># docker-compose with front-end</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dcf</span><span class=\"token operator\">=</span><span class=\"token string\">\"docker-compose -f docker-compose.yml -f docker-compose.local.yml -f docker-compose.ssl.yml -f docker-compose.frontend.yml\"</span></code></pre></div>\n<p>use</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"99696191896076080000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`dcf up -d --remove-orphans`, `99696191896076080000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\">dcf up -d --remove-orphans</code></pre></div>\n<h2 id=\"working-with-the-front-end-container-difference-between-the-production-and-development-set-up\"><a href=\"#working-with-the-front-end-container-difference-between-the-production-and-development-set-up\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Working With The Front-End Container: Difference Between The Production And Development Set-Up</h2>\n<table>\n<thead>\n<tr>\n<th>PRODUCTION SET-UP</th>\n<th>DEVELOPMENT SET-UP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"gatsby-code-text\">...-f frontend.compose.frontend.yml...</code></td>\n</tr>\n<tr>\n<td>M2 <br> handles <strong>all</strong> requests</td>\n<td><code class=\"gatsby-code-text\">/graphql</code>, <code class=\"gatsby-code-text\">/admin</code> —> M2 <strong>back-end</strong> server</td>\n</tr>\n<tr>\n<td><code class=\"gatsby-code-text\">npm run build</code></td>\n<td><code class=\"gatsby-code-text\">/category</code>, <code class=\"gatsby-code-text\">/123</code> etc. —> <code class=\"gatsby-code-text\">webpack</code> dev server</td>\n</tr>\n<tr>\n<td>Customization works</td>\n<td>No customization</td>\n</tr>\n<tr>\n<td>URL rewrites work</td>\n<td>No URL/rewrites/redirects</td>\n</tr>\n<tr>\n<td></td>\n<td>Dev server watches the files</td>\n</tr>\n<tr>\n<td></td>\n<td>In-memory caching - quick recompilation</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"the-development-set-up\"><a href=\"#the-development-set-up\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Development Set-Up</h3>\n<ul>\n<li>To start, use an additional file <code class=\"gatsby-code-text\">docker-compose-frontend.yml</code> or the <code class=\"gatsby-code-text\">dcf</code> alias.</li>\n<li><code class=\"gatsby-code-text\">/graphql</code> and <code class=\"gatsby-code-text\">/admin</code> will be handled by Magento.</li>\n<li>\n<p><code class=\"gatsby-code-text\">/category</code>, <code class=\"gatsby-code-text\">/products</code> etc. will be handled by the <code class=\"gatsby-code-text\">webpack</code> dev server</p>\n<ul>\n<li>The <code class=\"gatsby-code-text\">webpack</code> dev-server will be running in a container called <code class=\"gatsby-code-text\">frontend</code>.</li>\n</ul>\n</li>\n<li>\n<p>No customization abilities.</p>\n<ul>\n<li>ScandiPWA supports color and content customization, however, it won’t function in development mode</li>\n</ul>\n</li>\n<li>\n<p>No URL rewrites/redirects .</p>\n<ul>\n<li>Magento router is not involved in the response generation, instead it is done by the <code class=\"gatsby-code-text\">webpack</code> dev server.</li>\n<li>\n<p>What are the pluses of this approach?</p>\n<ul>\n<li>Dev server watches the files from your theme directory <code class=\"gatsby-code-text\">app/design/frontend/Scandiweb/pwa</code>. Recompiles after every change.</li>\n<li>In-memory caching allows for quick recompilation of only the files which are changed or hot-reloading.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"the-production-set-up\"><a href=\"#the-production-set-up\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Production Set-Up</h3>\n<ul>\n<li>Every request is handled by Magento</li>\n<li>\n<p>Any change in the ScandiPWA folder will require for you to run the command <code class=\"gatsby-code-text\">npm run build</code> from its directory.</p>\n<ul>\n<li>Any change requires full recompilement unlike in the development mode, where only the changed files are recompiled.</li>\n</ul>\n</li>\n<li>URL rewrites work</li>\n<li>\n<p>Customization works</p>\n<ul>\n<li>If you want to check out your customization, you need to switch into production mode and remove <code class=\"gatsby-code-text\">-f docker-compose.frontend.yml</code> from the stack</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><strong>Note</strong></p>\n<p>The first set-up must be done in production mode, without the front-end container</p>\n</blockquote>\n<p>You can check out our docs for a <a href=\"https://docs.scandipwa.com/docs/linux.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">step-by-step guide</a> on how to correctly set-up.</p>\n<h2 id=\"overriding-a-component-step-by-step-walkthrough\"><a href=\"#overriding-a-component-step-by-step-walkthrough\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overriding A Component: Step-By-Step Walkthrough</h2>\n<p>If you don’t want to debug, change the <code class=\"gatsby-code-text\">.env</code> file’s <code class=\"gatsby-code-text\">PROJECT-IMAGE = xdebug</code> to <code class=\"gatsby-code-text\">PROJECT-IMAGE = latest</code>.\nNow, when force recreating with <code class=\"gatsby-code-text\">dcf up -d --remove-orphans</code> we see that the front-end container gets set up.</p>\n<p>Use the alias <code class=\"gatsby-code-text\">frontlogs</code> or <code class=\"gatsby-code-text\">dcf logs -f frontend</code> to see what the state of the application is.</p>\n<p>If you see the following output, the front-end is ready. You can open a browser and go to <code class=\"gatsby-code-text\">scandipwa.local</code> to make sure that, indeed, the front-end is ready and will hot-reload.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"27971167637913076000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`ℹ ｢wdm｣: Compiled successfully`, `27971167637913076000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\">ℹ ｢wdm｣: Compiled successfully</code></pre></div>\n<p>Open the folder <code class=\"gatsby-code-text\">scandipwa-base/src/app/design/frontend/Scandiweb/pwa/src</code> and create an <code class=\"gatsby-code-text\">app</code> folder in it. </p>\n<p>You can check out the ScandiPWA <a href=\"https://github.com/scandipwa/scandipwa-development-toolkit\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">VSCode extension</a> to improve the speed of your workflow.</p>\n<p>Assuming that you have the extension installed, search for <code class=\"gatsby-code-text\">ScandiPWA: Extend source component</code> and select <code class=\"gatsby-code-text\">Breadcrumbs</code> as a component to override. Press ok and then <code class=\"gatsby-code-text\">Extend them!</code>.</p>\n<p>You’ll see the <code class=\"gatsby-code-text\">Breadcrumbs.component.js</code> file. Here <code class=\"gatsby-code-text\">eslint</code> is already configured, but feel free to read more <a href=\"https://eslint.org/docs/2.0.0/user-guide/configuring\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a> or <a href=\"https://medium.com/progressivewebapps/scandipwa-updates-august-11-issue-58-f97853034ebe\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>, and check out the ScandiPWA <a href=\"https://github.com/scandipwa/eslint\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"gatsby-code-text\">eslint</code> plug-in</a>.</p>\n<p>Open the <code class=\"gatsby-code-text\">Breadcrumbs.override.style.scss</code> file, it will be full of warnings due to the fact that <a href=\"https://stylelint.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"gatsby-code-text\">stylelint</code></a> is working.</p>\n<p>Let’s check-out where the breadcrumbs are displayed on the web app. Go to your browser and type <code class=\"gatsby-code-text\">scandipwa.local</code>. Then go to “woman” > “dresses” for example, and right-click “Inspect element”.</p>\n<p>You’ll see the element class <code class=\"gatsby-code-text\">Breadcrumbs</code> and all of its children who have <code class=\"gatsby-code-text\">.Breadcrumbs-List</code> styles. This is called BEM or Block Element Modifier and you can read more about it <a href=\"http://getbem.com/introduction/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<p>For this example we’re interested in where the color of <code class=\"gatsby-code-text\">Breadcrumbs</code> is and upon further inspection we can see that it happens in the <code class=\"gatsby-code-text\">.Breadcrumbs</code> block. </p>\n<p>Return back to the <code class=\"gatsby-code-text\">Breadcrumbs.override.style.scss</code> file and type the following.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"44477317179406524000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"Copied\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`:root{\n  --breadcrumbs-background: red;\n}`, `44477317179406524000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"\"\n              >\n                Copy<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"gatsby-code-scss\"><code class=\"gatsby-code-scss\"><span class=\"token selector\">:root</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--breadcrumbs-background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Go back to your browser to check if its working. You should see a red breadcrumb container. This happens because the front-end container immediately compiles the styles and anything else in the ScandiPWA front-end app.</p>","frontmatter":{"title":"ScandiPWA Frontend Set-Up"},"fields":{"path":"content/docs/frontend-setup.md","slug":"/docs/frontend-setup.html"}}},"pageContext":{"slug":"/docs/frontend-setup.html"}},"staticQueryHashes":[]}